<!DOCTYPE html>
<html lang="th">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞</title>
        <!-- Path to CSS is correct -->
        <link rel="stylesheet" href="css/style.css">
        <link href="https://fonts.googleapis.com/css2?family=TH+Sarabun+New:wght@400;700&display=swap" rel="stylesheet">
        <style>
            body {
                font-family: 'TH Sarabun New', sans-serif;
                background: #e0f7fa;
                overflow: hidden;
            }
        </style>
    </head>

    <body>
        <div id="topBar">
            <div id="profileSection">
                <!-- Corrected link to point to index.html in the same directory -->
                <a href="index.html" class="back-to-lobby-btn" title="‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏ö‡∏ö‡∏µ‡πâ"><img src="images/back.png"
                        alt="Back"></a>
                <img id="profilePic-game" src="" alt="Profile" class="profile-pic-game" style="cursor: pointer;">
                <div id="best-rank-display"></div>

            </div>
            <div id="progressSection"></div>
            <div id="statusSection">
                <div id="roundCoinContainer"></div>
                <div id="scoreDisplay"><span class="money-bag-icon">üí∞</span><span id="scoreValue">0</span></div>
                <div id="livesDisplay"></div>
                <div id="timerContainer">
                    <div id="timerFill"></div>
                </div>
            </div>
        </div>

        <div id="sidebar-overlay"></div>
        <div id="sidebar">
            <span id="sidebarCloseBtn">&times;</span>
            <img id="sidebarProfileImg" src="" alt="Profile">
            <h2 id="sidebarUserName"></h2>
            <p id="sidebarUserEmail"></p>
            <button id="logoutBtn" style="width: 100%;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
        </div>

        <div id="main-wrapper">
            <div id="gameArea">
                <div class="title-container">
                    <h1 class="main-title">‡∏î‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞</h1>
                    <div class="controls">
                        <button id="lessonBtn" onclick="showLessonPage()">‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>
                        <button id="startBtn" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
                        <button id="restartBtn" onclick="restartGame()" style="display:none;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
                    </div>
                </div>
                <div id="game"></div>
            </div>
        </div>

        <div id="popup">
            <div id="popupBox">
                <div id="popupText"></div>
                <div id="popupControls" class="popup-controls"></div>
            </div>
        </div>

        <div id="lesson-page">
            <button id="close-lesson-btn">&times; ‡∏õ‡∏¥‡∏î</button>
            <h2>‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢ </h2>
            <div id="lesson-grid"></div>
        </div>

        <canvas id="confetti-canvas"
            style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1001; pointer-events: none;"></canvas>

        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

        <!-- Path to JS is correct -->
        <script src="js/game01.js"></script>
    </body>


</html>