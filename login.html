<!DOCTYPE html>
<html lang="th">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>เข้าสู่ระบบ</title>

        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=TH+Sarabun+New:wght@400;700&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

        <style>
            :root {
                --primary-color: #4285F4;
            }

            html,
            body {
                height: 100%;
            }

            body {
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: #f8f9fa;
                font-family: 'Roboto', 'TH Sarabun New', sans-serif;
            }

            .login-form {
                width: 100%;
                max-width: 420px;
                background: #fff;
                padding: 2.25rem;
                border-radius: 10px;
                box-shadow: 0 0 0 1px rgba(0, 0, 0, .05), 0 10px 28px rgba(0, 0, 0, .12);
            }

            .form-control-lg {
                font-size: 1rem;
                padding: .95rem;
                height: 3.1rem;
                border: 1px solid #dadce0;
            }

            .action-btn {
                border: none;
                width: 100%;
                padding: .8rem;
                border-radius: 6px;
                font-weight: 600;
                font-size: 1rem;
            }

            .google-btn {
                background: #fff;
                color: #333;
                border: 1px solid #dadce0;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: .625rem;
            }

            .google-btn:hover {
                background: #f8f9fa;
            }

            .google-icon {
                width: 1.25rem;
                height: 1.25rem;
            }

            .nav-tabs .nav-link {
                color: #6c757d;
                font-weight: 600;
            }

            .nav-tabs .nav-link.active {
                color: var(--primary-color);
                border-color: var(--primary-color) var(--primary-color) #fff;
            }
        </style>
    </head>

    <body>

        <div class="login-form">
            <div id="alert" class="alert d-none" role="alert"></div>

            <ul class="nav nav-tabs nav-fill mb-4" id="authTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login-pane"
                        type="button" role="tab">
                        เข้าสู่ระบบ
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register-pane"
                        type="button" role="tab">
                        ลงทะเบียน
                    </button>
                </li>
            </ul>

            <div class="tab-content" id="authTabContent">
                <!-- Login -->
                <div class="tab-pane fade show active" id="login-pane" role="tabpanel">
                    <form id="loginForm" onsubmit="event.preventDefault(); login();">
                        <div class="mb-3">
                            <input type="email" class="form-control form-control-lg" id="login-email"
                                placeholder="อีเมล" required>
                        </div>
                        <div class="mb-4">
                            <input type="password" class="form-control form-control-lg" id="login-password"
                                placeholder="รหัสผ่าน" required>
                        </div>
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary action-btn" id="loginBtn">เข้าสู่ระบบ</button>
                        </div>

                        <div class="text-center my-3 text-muted">&mdash; หรือ &mdash;</div>
                        <button type="button" onclick="loginWithGoogle()" id="googleBtn"
                            class="btn google-btn action-btn">
                            <img src="https://img.icons8.com/color/48/000000/google-logo.png" alt="Google icon"
                                class="google-icon" />
                            เข้าสู่ระบบด้วย Google
                        </button>
                    </form>
                </div>

                <!-- Register -->
                <div class="tab-pane fade" id="register-pane" role="tabpanel">
                    <form id="registerForm" onsubmit="event.preventDefault(); register();">
                        <div class="mb-3"><input type="text" class="form-control form-control-lg" id="register-name"
                                placeholder="ชื่อ (แสดงผล)" required></div>
                        <div class="mb-3"><input type="email" class="form-control form-control-lg" id="register-email"
                                placeholder="อีเมล" required></div>
                        <div class="mb-3"><input type="password" class="form-control form-control-lg"
                                id="register-password" placeholder="รหัสผ่าน (อย่างน้อย 6 ตัวอักษร)" required></div>
                        <div class="mb-4"><input type="password" class="form-control form-control-lg"
                                id="register-confirm-password" placeholder="ยืนยันรหัสผ่าน" required></div>
                        <div class="d-grid"><button type="submit" class="btn btn-primary action-btn"
                                id="registerBtn">สร้างบัญชี</button></div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Firebase compat SDKs -->
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        <!-- Main -->
        <script src="js/login.js"></script>
    </body>

</html>