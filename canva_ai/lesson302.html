<!DOCTYPE html>
<html lang="th">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=TH+Sarabun+New:wght@400;700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'TH Sarabun New', sans-serif;
        background: #e0f7fa;
        overflow: hidden;
      }

      /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ */
      #game-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        padding: 20px;
        box-sizing: border-box;
      }

      #image-container {
        width: 100%;
        max-width: 350px;
        height: 200px;
        margin-bottom: 20px;
        border-radius: 15px;
        background-color: #ffffff;
        border: 2px solid #b2ebf2;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #image-container img {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
      }

      .sentence-box {
        width: 100%;
        max-width: 600px;
        min-height: 80px;
        background-color: #ffffff;
        border: 2px dashed #4dd0e1;
        border-radius: 15px;
        padding: 15px;
        margin-bottom: 20px;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 10px;
        font-size: 2.5rem;
      }

      #word-options {
        border-style: solid;
        background-color: #f1f8e9;
        border-color: #c5e1a5;
      }

      .word-btn {
        padding: 5px 20px;
        background-color: #fffde7;
        border: 2px solid #fff59d;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 4px #fbc02d;
        font-size: 2.2rem;
        font-weight: bold;
        color: #333;
      }

      .word-btn:hover {
        background-color: #fff9c4;
      }

      .word-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px #fbc02d;
      }

      #game-controls {
        display: flex;
        gap: 20px;
      }
    </style>
  </head>

  <body>
    <div id="topBar">
      <div id="profileSection">
        <a href="index.html" class="back-to-lobby-btn" title="‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏ö‡∏ö‡∏µ‡πâ"><img src="images/icon/back.png"
            alt="Back"></a>
        <img id="profilePic-game" src="" alt="Profile" class="profile-pic-game" style="cursor: pointer;">
        <div id="best-rank-display"></div>
      </div>
      <!-- Progress bar for sentences -->
      <div id="progressSection"></div>
      <div id="statusSection">
        <div id="scoreDisplay"><span class="money-bag-icon">üí∞</span><span id="scoreValue">0</span></div>
      </div>
    </div>

    <div id="sidebar-overlay"></div>
    <div id="sidebar">
      <span id="sidebarCloseBtn">&times;</span>
      <img id="sidebarProfileImg" src="" alt="Profile">
      <h2 id="sidebarUserName"></h2>
      <p id="sidebarUserEmail"></p>
      <button id="logoutBtn" style="width: 100%;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>

    <div id="main-wrapper">
      <div id="gameArea">
        <div class="title-container">
          <h1 class="main-title">‡πÄ‡∏Å‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ</h1>
          <div class="controls">
            <button id="startBtn" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
            <button id="restartBtn" onclick="restartGame()" style="display:none;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
          </div>
        </div>
        <div id="game-content" style="display:none;">
          <div id="image-container"></div>
          <div id="sentence-builder" class="sentence-box"></div>
          <div id="word-options" class="sentence-box"></div>
          <div id="game-controls">
            <button id="checkBtn" class="btn btn-success">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
            <button id="nextBtn" class="btn btn-primary" style="display: none;">‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ</button>
          </div>
        </div>
      </div>
    </div>

    <div id="popup">
      <div id="popupBox">
        <div id="popupText"></div>
        <div id="popupControls" class="popup-controls"></div>
      </div>
    </div>

    <canvas id="confetti-canvas"
      style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1001; pointer-events: none;"></canvas>

    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

    <script src="js/lesson302.js"></script>
  </body>

</html>