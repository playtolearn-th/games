<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© - Play to Learn</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { 'thai': ['TH Sarabun New', 'Sarabun', 'sans-serif'] },
          animation: {
            'bounce-slow': 'bounce 2s infinite',
            'pulse-fast': 'pulse 1s infinite',
            'spin-slow': 'spin 3s linear infinite',
            'wiggle': 'wiggle 1s ease-in-out infinite',
          },
          keyframes: {
            wiggle: {
              '0%, 100%': { transform: 'rotate(-3deg)' },
              '50%': { transform: 'rotate(3deg)' },
            }
          }
        }
      }
    }
  </script>
</head>

<body class="font-thai bg-gradient-to-br from-pink-200 via-purple-200 via-blue-200 to-green-200 min-h-screen text-gray-800">

  <!-- Header -->
  <header class="bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 shadow-2xl py-8 border-b-8 border-rainbow">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <h1 class="text-5xl font-bold text-white mb-4 drop-shadow-lg animate-bounce-slow">
        üåà Play to Learn - ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© üéâ
      </h1>
      <p class="text-2xl text-white font-semibold drop-shadow-md">
        üéØ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢ ‡∏™‡∏£‡∏∞ ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© (‡πÅ‡∏ï‡∏∞‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á) üîä
      </p>
      <div id="player-info" class="mt-4 bg-white bg-opacity-20 rounded-2xl p-4 inline-block">
        <span id="current-player" class="text-xl font-bold">üß© ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ - ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</span>
        <span id="current-score" class="text-xl font-bold ml-4">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</span>
      </div>
    </div>
  </header>

  <!-- Navigation Menu -->
  <nav class="max-w-6xl mx-auto px-4 py-6">
    <div class="flex flex-wrap justify-center gap-4">
      <button onclick="showSection('consonants')" class="nav-btn bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-3 rounded-full font-bold hover:from-yellow-500 hover:to-orange-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        üìù ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢
      </button>
      <button onclick="showSection('vowels')" class="nav-btn bg-gradient-to-r from-purple-400 to-pink-500 text-white px-6 py-3 rounded-full font-bold hover:from-purple-500 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        üéµ ‡∏™‡∏£‡∏∞‡πÑ‡∏ó‡∏¢
      </button>
      <button onclick="showSection('numbers')" class="nav-btn bg-gradient-to-r from-green-400 to-blue-500 text-white px-6 py-3 rounded-full font-bold hover:from-green-500 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        üî¢ ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏ó‡∏¢
      </button>
      <button onclick="showSection('tones')" class="nav-btn bg-gradient-to-r from-orange-400 to-red-500 text-white px-6 py-3 rounded-full font-bold hover:from-orange-500 hover:to-red-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        üéº ‡∏ß‡∏£‡∏£‡∏ì‡∏¢‡∏∏‡∏Å‡∏ï‡πå
      </button>
      <button onclick="showSection('thai-vocab')" class="nav-btn bg-gradient-to-r from-teal-400 to-cyan-500 text-white px-6 py-3 rounded-full font-bold hover:from-teal-500 hover:to-cyan-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        üìö ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÑ‡∏ó‡∏¢
      </button>
      <button onclick="showSection('english-alphabet')" class="nav-btn bg-gradient-to-r from-indigo-400 to-blue-500 text-white px-6 py-3 rounded-full font-bold hover:from-indigo-500 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        üî§ A-Z ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©
      </button>
      <button onclick="showSection('english-vocab')" class="nav-btn bg-gradient-to-r from-red-400 to-pink-500 text-white px-6 py-3 rounded-full font-bold hover:from-red-500 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        üåü ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©
      </button>
      <button onclick="showLeaderboard()" class="nav-btn bg-gradient-to-r from-yellow-500 to-amber-600 text-white px-6 py-3 rounded-full font-bold hover:from-yellow-600 hover:to-amber-700 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white animate-pulse-fast">
        üèÜ ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="max-w-6xl mx-auto px-4 pb-8">
    <!-- Consonants Section -->
    <div id="consonants-section" class="section-content">
      <div class="bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-yellow-300">
        <h2 class="text-6xl font-bold text-yellow-600 mb-8 text-center drop-shadow-lg animate-wiggle">üìù ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢ üåü</h2>

        <!-- Gallery/Grid Toggle -->
        <div class="text-center mb-6">
          <button id="toggle-consonants" onclick="toggleView('consonants')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
            üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®
          </button>
        </div>

        <!-- Gallery View -->
        <div id="consonants-gallery" class="gallery-view">
          <!-- Gallery controls and display will be here -->
        </div>

        <!-- Grid View -->
        <div id="consonants-grid" class="grid-view hidden">
          <!-- Grid will be populated here -->
        </div>

        <!-- Game Button -->
        <div class="text-center mt-8">
          <button onclick="startGame('consonants')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
            üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üèÜ
          </button>
        </div>
      </div>
    </div>

    <!-- Other sections will follow the same pattern -->
    <div id="vowels-section" class="section-content hidden"></div>
    <div id="numbers-section" class="section-content hidden"></div>
    <div id="tones-section" class="section-content hidden"></div>
    <div id="thai-vocab-section" class="section-content hidden"></div>
    <div id="english-alphabet-section" class="section-content hidden"></div>
    <div id="english-vocab-section" class="section-content hidden"></div>
  </main>

  <!-- Game Modal -->
  <div id="game-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
    <div class="bg-gradient-to-br from-purple-100 to-pink-100 rounded-3xl p-8 shadow-2xl border-4 border-purple-300 max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
      <div class="text-center mb-6">
        <h2 id="game-title" class="text-5xl font-bold text-purple-600 mb-4 animate-bounce">üéÆ ‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö üèÜ</h2>
        <div class="flex justify-center items-center gap-8 mb-4">
          <div class="bg-white rounded-2xl p-4 shadow-lg">
            <div class="text-2xl font-bold text-green-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="game-score">0</span></div>
          </div>
          <div class="bg-white rounded-2xl p-4 shadow-lg">
            <div class="text-2xl font-bold text-blue-600">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà: <span id="question-number">1</span>/10</div>
          </div>
          <div class="bg-white rounded-2xl p-4 shadow-lg">
            <div class="text-2xl font-bold text-red-600">‡πÄ‡∏ß‡∏•‡∏≤: <span id="timer">30</span>s</div>
          </div>
        </div>
      </div>

      <div id="game-content" class="text-center"></div>

      <div class="flex justify-center gap-4 mt-6">
        <button onclick="closeGame()" class="bg-gradient-to-r from-gray-400 to-gray-500 text-white font-bold py-3 px-6 rounded-full hover:from-gray-500 hover:to-gray-600 transition-all transform hover:scale-105">
          ‚ùå ‡∏õ‡∏¥‡∏î‡πÄ‡∏Å‡∏°
        </button>
      </div>
    </div>
  </div>

  <!-- Leaderboard Modal -->
  <div id="leaderboard-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
    <div class="bg-gradient-to-br from-yellow-100 to-orange-100 rounded-3xl p-8 shadow-2xl border-4 border-yellow-300 max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
      <h2 class="text-5xl font-bold text-yellow-600 mb-8 text-center animate-bounce">üèÜ ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üëë</h2>

      <div id="leaderboard-content" class="space-y-4"></div>

      <div class="text-center mt-8">
        <button onclick="closeLeaderboard()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 px-6 rounded-full hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-105">
          ‚ú® ‡∏õ‡∏¥‡∏î
        </button>
      </div>
    </div>
  </div>

  <script>
    /* ===== Base Configuration ===== */
    const IMG_BASE = "https://playtolearn-th.github.io/games/canva_ai/imgs";
    const SOUND_BASE = "https://playtolearn-th.github.io/games/canva_ai/sounds";
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxJgSMNP1jLacXCtNysivFj6CK_kHEmjL8ZUxKMqEQx-Vjj3fst_ahtYDhgmeQmc9tI/exec";

    /* ===== Player State (no login) ===== */
    let currentPlayer = {
      name: '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô',
      team: 'üß© ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',
      score: 0
    };

    let gameState = {
      currentSection: 'consonants',
      currentIndex: 0,
      isGridView: false,
      gameActive: false,
      gameScore: 0,
      questionNumber: 1,
      timeLeft: 30,
      gameTimer: null
    };

    /* ===== Data Arrays ===== */
  const thaiConsonants = [
  { ch: '‡∏Å', name: '‡∏Å‡∏≠ ‡πÑ‡∏Å‡πà', img: '‡∏Å.png', sound: '‡∏Å.mp3' },
  { ch: '‡∏Ç', name: '‡∏Ç‡∏≠ ‡πÑ‡∏Ç‡πà', img: '‡∏Ç.png', sound: '‡∏Ç.mp3' },
  { ch: '‡∏É', name: '‡∏É‡∏≠ ‡∏Ç‡∏ß‡∏î', img: '‡∏É.png', sound: '‡∏É.mp3' },
  { ch: '‡∏Ñ', name: '‡∏Ñ‡∏≠ ‡∏Ñ‡∏ß‡∏≤‡∏¢', img: '‡∏Ñ.png', sound: '‡∏Ñ.mp3' },
  { ch: '‡∏Ö', name: '‡∏Ö‡∏≠ ‡∏Ñ‡∏ô', img: '‡∏Ö.png', sound: '‡∏Ö.mp3' },
  { ch: '‡∏Ü', name: '‡∏Ü‡∏≠ ‡∏£‡∏∞‡∏Ü‡∏±‡∏á', img: '‡∏Ü.png', sound: '‡∏Ü.mp3' },
  { ch: '‡∏á', name: '‡∏á‡∏≠ ‡∏á‡∏π', img: '‡∏á.png', sound: '‡∏á.mp3' },
  { ch: '‡∏à', name: '‡∏à‡∏≠ ‡∏à‡∏≤‡∏ô', img: '‡∏à.png', sound: '‡∏à.mp3' },
  { ch: '‡∏â', name: '‡∏â‡∏≠ ‡∏â‡∏¥‡πà‡∏á', img: '‡∏â.png', sound: '‡∏â.mp3' },
  { ch: '‡∏ä', name: '‡∏ä‡∏≠ ‡∏ä‡πâ‡∏≤‡∏á', img: '‡∏ä.png', sound: '‡∏ä.mp3' },
  { ch: '‡∏ã', name: '‡∏ã‡∏≠ ‡πÇ‡∏ã‡πà', img: '‡∏ã.png', sound: '‡∏ã.mp3' },
  { ch: '‡∏å', name: '‡∏å‡∏≠ ‡πÄ‡∏å‡∏≠', img: '‡∏å.png', sound: '‡∏å.mp3' },
  { ch: '‡∏ç', name: '‡∏ç‡∏≠ ‡∏´‡∏ç‡∏¥‡∏á', img: '‡∏ç.png', sound: '‡∏ç.mp3' },
  { ch: '‡∏é', name: '‡∏é‡∏≠ ‡∏ä‡∏é‡∏≤', img: '‡∏é.png', sound: '‡∏é.mp3' },
  { ch: '‡∏è', name: '‡∏è‡∏≠ ‡∏õ‡∏è‡∏±‡∏Å', img: '‡∏è.png', sound: '‡∏è.mp3' },
  { ch: '‡∏ê', name: '‡∏ê‡∏≠ ‡∏ê‡∏≤‡∏ô', img: '‡∏ê.png', sound: '‡∏ê.mp3' },
  { ch: '‡∏ë', name: '‡∏ë‡∏≠ ‡∏°‡∏ì‡πÇ‡∏ë', img: '‡∏ë.png', sound: '‡∏ë.mp3' },
  { ch: '‡∏í', name: '‡∏í‡∏≠ ‡∏ú‡∏π‡πâ‡πÄ‡∏í‡πà‡∏≤', img: '‡∏í.png', sound: '‡∏í.mp3' },
  { ch: '‡∏ì', name: '‡∏ì‡∏≠ ‡πÄ‡∏ì‡∏£', img: '‡∏ì.png', sound: '‡∏ì.mp3' },
  { ch: '‡∏î', name: '‡∏î‡∏≠ ‡πÄ‡∏î‡πá‡∏Å', img: '‡∏î.png', sound: '‡∏î.mp3' },
  { ch: '‡∏ï', name: '‡∏ï‡∏≠ ‡πÄ‡∏ï‡πà‡∏≤', img: '‡∏ï.png', sound: '‡∏ï.mp3' },
  { ch: '‡∏ñ', name: '‡∏ñ‡∏≠ ‡∏ñ‡∏∏‡∏á', img: '‡∏ñ.png', sound: '‡∏ñ.mp3' },
  { ch: '‡∏ó', name: '‡∏ó‡∏≠ ‡∏ó‡∏´‡∏≤‡∏£', img: '‡∏ó.png', sound: '‡∏ó.mp3' },
  { ch: '‡∏ò', name: '‡∏ò‡∏≠ ‡∏ò‡∏á', img: '‡∏ò.png', sound: '‡∏ò.mp3' },
  { ch: '‡∏ô', name: '‡∏ô‡∏≠ ‡∏´‡∏ô‡∏π', img: '‡∏ô.png', sound: '‡∏ô.mp3' },
  { ch: '‡∏ö', name: '‡∏ö‡∏≠ ‡πÉ‡∏ö‡πÑ‡∏°‡πâ', img: '‡∏ö.png', sound: '‡∏ö.mp3' },
  { ch: '‡∏õ', name: '‡∏õ‡∏≠ ‡∏õ‡∏•‡∏≤', img: '‡∏õ.png', sound: '‡∏õ.mp3' },
  { ch: '‡∏ú', name: '‡∏ú‡∏≠ ‡∏ú‡∏∂‡πâ‡∏á', img: '‡∏ú.png', sound: '‡∏ú.mp3' },
  { ch: '‡∏ù', name: '‡∏ù‡∏≠ ‡∏ù‡∏≤', img: '‡∏ù.png', sound: '‡∏ù.mp3' },
  { ch: '‡∏û', name: '‡∏û‡∏≠ ‡∏û‡∏≤‡∏ô', img: '‡∏û.png', sound: '‡∏û.mp3' },
  { ch: '‡∏ü', name: '‡∏ü‡∏≠ ‡∏ü‡∏±‡∏ô', img: '‡∏ü.png', sound: '‡∏ü.mp3' },
  { ch: '‡∏†', name: '‡∏†‡∏≠ ‡∏™‡∏≥‡πÄ‡∏†‡∏≤', img: '‡∏†.png', sound: '‡∏†.mp3' },
  { ch: '‡∏°', name: '‡∏°‡∏≠ ‡∏°‡πâ‡∏≤', img: '‡∏°.png', sound: '‡∏°.mp3' },
  { ch: '‡∏¢', name: '‡∏¢‡∏≠ ‡∏¢‡∏±‡∏Å‡∏©‡πå', img: '‡∏¢.png', sound: '‡∏¢.mp3' },
  { ch: '‡∏£', name: '‡∏£‡∏≠ ‡πÄ‡∏£‡∏∑‡∏≠', img: '‡∏£.png', sound: '‡∏£.mp3' },
  { ch: '‡∏•', name: '‡∏•‡∏≠ ‡∏•‡∏¥‡∏á', img: '‡∏•.png', sound: '‡∏•.mp3' },
  { ch: '‡∏ß', name: '‡∏ß‡∏≠ ‡πÅ‡∏´‡∏ß‡∏ô', img: '‡∏ß.png', sound: '‡∏ß.mp3' },
  { ch: '‡∏®', name: '‡∏®‡∏≠ ‡∏®‡∏≤‡∏•‡∏≤', img: '‡∏®.png', sound: '‡∏®.mp3' },
  { ch: '‡∏©', name: '‡∏©‡∏≠ ‡∏§‡πÖ‡∏©‡∏µ', img: '‡∏©.png', sound: '‡∏©.mp3' },
  { ch: '‡∏™', name: '‡∏™‡∏≠ ‡πÄ‡∏™‡∏∑‡∏≠', img: '‡∏™.png', sound: '‡∏™.mp3' },
  { ch: '‡∏´', name: '‡∏´‡∏≠ ‡∏´‡∏µ‡∏ö', img: '‡∏´.png', sound: '‡∏´.mp3' },
  { ch: '‡∏¨', name: '‡∏¨‡∏≠ ‡∏à‡∏∏‡∏¨‡∏≤', img: '‡∏¨.png', sound: '‡∏¨.mp3' },
  { ch: '‡∏≠', name: '‡∏≠‡∏≠ ‡∏≠‡πà‡∏≤‡∏á', img: '‡∏≠.png', sound: '‡∏≠.mp3' },
  { ch: '‡∏Æ', name: '‡∏Æ‡∏≠ ‡∏ô‡∏Å‡∏Æ‡∏π‡∏Å', img: '‡∏Æ.png', sound: '‡∏Æ.mp3' }
];

const thaiVowels = [ { ch: '‡∏≠‡∏∞', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏∞', emoji: '-‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏∞.mp3' }, 
{ ch: '‡∏≠‡∏≤', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏≤', emoji: '-‡∏≤', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏≤.mp3' },
 { ch: '‡∏≠‡∏¥', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏¥', emoji: '-‡∏¥', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏¥.mp3' },
  { ch: '‡∏≠‡∏µ', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏µ', emoji: '-‡∏µ', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏µ.mp3' }, 
  { ch: '‡∏≠‡∏∂', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏∂', emoji: '-‡∏∂', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏∂.mp3' },
   { ch: '‡∏≠‡∏∑‡∏≠', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏∑‡∏≠', emoji: '-‡∏∑', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏∑‡∏≠.mp3' },
    { ch: '‡∏≠‡∏∏', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏∏', emoji: '-‡∏∏', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏∏.mp3' },
     { ch: '‡∏≠‡∏π', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏π', emoji: '-‡∏π', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏π.mp3' },
      { ch: '‡πÄ‡∏≠‡∏∞', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏∞', emoji: '‡πÄ-‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏∞.mp3' },
       { ch: '‡πÄ‡∏≠', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠', emoji: '‡πÄ-', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠.mp3' },
        { ch: '‡πÅ‡∏≠‡∏∞', name: '‡∏™‡∏£‡∏∞‡πÅ‡∏≠‡∏∞', emoji: '‡πÅ-‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÅ‡∏≠‡∏∞.mp3' },
         { ch: '‡πÅ‡∏≠', name: '‡∏™‡∏£‡∏∞‡πÅ‡∏≠', emoji: '‡πÅ-', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÅ‡∏≠.mp3' },
          { ch: '‡πÇ‡∏≠‡∏∞', name: '‡∏™‡∏£‡∏∞‡πÇ‡∏≠‡∏∞', emoji: '‡πÇ-‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÇ‡∏≠‡∏∞.mp3' },
           { ch: '‡πÇ‡∏≠', name: '‡∏™‡∏£‡∏∞‡πÇ‡∏≠', emoji: '‡πÇ-', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÇ‡∏≠.mp3' },
            { ch: '‡πÄ‡∏≠‡∏≤‡∏∞', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏≤‡∏∞', emoji: '‡πÄ-‡∏≤‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏≤‡∏∞.mp3' },
             { ch: '‡∏≠‡∏≠', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏≠', emoji: '-‡∏≠', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏≠.mp3' },
              { ch: '‡πÄ‡∏≠‡∏≠‡∏∞', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏≠‡∏∞', emoji: '‡πÄ-‡∏≠‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏≠‡∏∞.mp3' },
               { ch: '‡πÄ‡∏≠‡∏≠', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏≠', emoji: '‡πÄ-‡∏≠', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏≠.mp3' },
                { ch: '‡πÄ‡∏≠‡∏µ‡∏¢‡∏∞', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏∞', emoji: '‡πÄ-‡∏µ‡∏¢‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏µ‡∏¢‡∏∞.mp3' },
                 { ch: '‡πÄ‡∏≠‡∏µ‡∏¢', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢', emoji: '‡πÄ-‡∏µ‡∏¢', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏µ‡∏¢.mp3' },
                  { ch: '‡πÄ‡∏≠‡∏∑‡∏≠‡∏∞', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏∑‡∏≠‡∏∞', emoji: '‡πÄ-‡∏∑‡∏≠‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏∑‡∏≠‡∏∞.mp3' },
                   { ch: '‡πÄ‡∏≠‡∏∑‡∏≠', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏∑‡∏≠', emoji: '‡πÄ-‡∏∑‡∏≠', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏∑‡∏≠.mp3' },
                    { ch: '‡∏≠‡∏±‡∏ß‡∏∞', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏±‡∏ß‡∏∞', emoji: '-‡∏±‡∏ß‡∏∞', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏±‡∏ß‡∏∞.mp3' }, 
                    { ch: '‡∏≠‡∏±‡∏ß', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏±‡∏ß', emoji: '-‡∏±‡∏ß', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏±‡∏ß.mp3' }, 
                    { ch: '‡∏≠‡∏≥', name: '‡∏™‡∏£‡∏∞‡∏≠‡∏≥', emoji: '-‡∏≥', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡∏≠‡∏≥.mp3' }, 
                    { ch: '‡πÉ‡∏≠', name: '‡∏™‡∏£‡∏∞‡πÉ‡∏≠ (‡πÑ‡∏°‡πâ‡∏°‡πâ‡∏ß‡∏ô)', emoji: '‡πÉ-', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÉ‡∏≠ (‡πÑ‡∏°‡πâ‡∏°‡πâ‡∏ß‡∏ô).mp3' },
                     { ch: '‡πÑ‡∏≠', name: '‡∏™‡∏£‡∏∞‡πÑ‡∏≠ (‡πÑ‡∏°‡πâ‡∏°‡∏•‡∏≤‡∏¢)', emoji: '‡πÑ-', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÑ‡∏≠ (‡πÑ‡∏°‡πâ‡∏°‡∏•‡∏≤‡∏¢).mp3' },
                      { ch: '‡πÄ‡∏≠‡∏≤', name: '‡∏™‡∏£‡∏∞‡πÄ‡∏≠‡∏≤', emoji: '‡πÄ-‡∏≤', sound: '‡∏™‡∏∞-‡∏´‡∏£‡∏∞-‡πÄ‡∏≠‡∏≤.mp3' },
                       { ch: '‡∏§', name: '‡∏§', emoji: '‡∏§', sound: '‡∏§.mp3' },
                        { ch: '‡∏§‡πÖ', name: '‡∏§‡πÖ', emoji: '‡∏§‡πÖ', sound: '‡∏§‡πÖ.mp3' },
                         { ch: '‡∏¶', name: '‡∏¶', emoji: '‡∏¶', sound: '‡∏¶.mp3' },
                          { ch: '‡∏¶‡πÖ', name: '‡∏¶‡πÖ', emoji: '‡∏¶‡πÖ', sound: '‡∏¶‡πÖ.mp3' } ];

    const thaiNumbers = [
      { ch: '‡πê', name: '‡∏®‡∏π‡∏ô‡∏¢‡πå', emoji: '', arabic: '0' },
      { ch: '‡πë', name: '‡∏´‡∏ô‡∏∂‡πà‡∏á', emoji: 'üê£', arabic: '1' },
      { ch: '‡πí', name: '‡∏™‡∏≠‡∏á', emoji: 'ü¶¢ü¶¢', arabic: '2' },
      { ch: '‡πì', name: '‡∏™‡∏≤‡∏°', emoji: 'üêªüêªüêª', arabic: '3' },
      { ch: '‡πî', name: '‡∏™‡∏µ‡πà', emoji: 'üçÄ', arabic: '4' },
      { ch: '‡πï', name: '‡∏´‡πâ‡∏≤', emoji: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê', arabic: '5' },
      { ch: '‡πñ', name: '‡∏´‡∏Å', emoji: 'üêùüêùüêùüêùüêùüêù', arabic: '6' },
      { ch: '‡πó', name: '‡πÄ‡∏à‡πá‡∏î', emoji: 'üåà', arabic: '7' },
      { ch: '‡πò', name: '‡πÅ‡∏õ‡∏î', emoji: 'üêô', arabic: '8' },
      { ch: '‡πô', name: '‡πÄ‡∏Å‡πâ‡∏≤', emoji: 'üå∏üå∏üå∏üå∏üå∏üå∏üå∏üå∏üå∏', arabic: '9' },
      { ch: '‡πë‡πê', name: '‡∏™‡∏¥‡∏ö', emoji: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê', arabic: '10' }
    ];

    const thaiToneMarks = [
      { emoji: 'üìâ', ch: '‡πà', name: '‡πÑ‡∏°‡πâ‡πÄ‡∏≠‡∏Å', desc: '' },
      { emoji: 'üìà', ch: '‡πâ', name: '‡πÑ‡∏°‡πâ‡πÇ‡∏ó', desc: '' },
      { emoji: '‚¨ÜÔ∏è', ch: '‡πä', name: '‡πÑ‡∏°‡πâ‡∏ï‡∏£‡∏µ', desc: '' },
      { emoji: 'üéµ', ch: '‡πã', name: '‡πÑ‡∏°‡πâ‡∏à‡∏±‡∏ï‡∏ß‡∏≤', desc: '' }
    ];

    const thaiVocabulary = {
      animals: [
        { word: '‡πÅ‡∏°‡∏ß', reading: '‡πÅ‡∏°‡∏ß', meaning: '‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏à‡∏±‡∏ö‡∏´‡∏ô‡∏π', emoji: 'üê±', img: 'cat_thai.png' },
        { word: '‡∏´‡∏°‡∏≤', reading: '‡∏´‡∏°‡∏≤', meaning: '‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏¢‡πå', emoji: 'üê∂', img: 'dog_thai.png' },
        { word: '‡∏ä‡πâ‡∏≤‡∏á', reading: '‡∏ä‡πâ‡∏≤‡∏á', meaning: '‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏á‡∏ß‡∏á', emoji: 'üêò', img: 'elephant_thai.png' },
        { word: '‡πÄ‡∏™‡∏∑‡∏≠', reading: '‡πÄ‡∏™‡∏∑‡∏≠', meaning: '‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡∏î‡∏≥', emoji: 'üêÖ', img: 'tiger_thai.png' },
        { word: '‡∏•‡∏¥‡∏á', reading: '‡∏•‡∏¥‡∏á', meaning: '‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡∏Å‡∏•‡πâ‡∏ß‡∏¢', emoji: 'üêµ', img: 'monkey_thai.png' },
        { word: '‡∏ô‡∏Å', reading: '‡∏ô‡∏Å', meaning: '‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏ö‡∏¥‡∏ô‡πÑ‡∏î‡πâ', emoji: 'üê¶', img: 'bird_thai.png' },
        { word: '‡∏õ‡∏•‡∏≤', reading: '‡∏õ‡∏•‡∏≤', meaning: '‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ô‡πâ‡∏≥', emoji: 'üêü', img: 'fish_thai.png' },
        { word: '‡∏Å‡∏ö', reading: '‡∏Å‡∏ö', meaning: '‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÑ‡∏î‡πâ', emoji: 'üê∏', img: 'frog_thai.png' }
      ],
      fruits: [
        { word: '‡∏Å‡∏•‡πâ‡∏ß‡∏¢', reading: '‡∏Å‡∏•‡πâ‡∏ß‡∏¢', meaning: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á', emoji: 'üçå', img: 'banana_thai.png' },
        { word: '‡∏™‡πâ‡∏°', reading: '‡∏™‡πâ‡∏°', meaning: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏£‡∏™‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß', emoji: 'üçä', img: 'orange_thai.png' },
        { word: '‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•', reading: '‡πÅ‡∏≠‡∏õ-‡πÄ‡∏õ‡∏¥‡πâ‡∏•', meaning: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏™‡∏µ‡πÅ‡∏î‡∏á', emoji: 'üçé', img: 'apple_thai.png' },
        { word: '‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á', reading: '‡∏°‡∏∞-‡∏°‡πà‡∏ß‡∏á', meaning: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏´‡∏ß‡∏≤‡∏ô‡πÜ', emoji: 'ü•≠', img: 'mango_thai.png' },
        { word: '‡πÅ‡∏ï‡∏á‡πÇ‡∏°', reading: '‡πÅ‡∏ï‡∏á-‡πÇ‡∏°', meaning: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', emoji: 'üçâ', img: 'watermelon_thai.png' },
        { word: '‡∏≠‡∏á‡∏∏‡πà‡∏ô', reading: '‡∏≠-‡∏á‡∏∏‡πà‡∏ô', meaning: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏ß‡∏á', emoji: 'üçá', img: 'grape_thai.png' },
        { word: '‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î', reading: '‡∏™‡∏±‡∏ö-‡∏õ‡∏∞-‡∏£‡∏î', meaning: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏°‡∏µ‡∏´‡∏ô‡∏≤‡∏°', emoji: 'üçç', img: 'pineapple_thai.png' },
        { word: '‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß', reading: '‡∏°‡∏∞-‡∏û‡∏£‡πâ‡∏≤‡∏ß', meaning: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô', emoji: 'ü••', img: 'coconut_thai.png' }
      ],
      colors: [
        { word: '‡πÅ‡∏î‡∏á', reading: '‡πÅ‡∏î‡∏á', meaning: '‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏î', emoji: 'üî¥', img: 'red_thai.png' },
        { word: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', reading: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', meaning: '‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö‡πÑ‡∏°‡πâ', emoji: 'üü¢', img: 'green_thai.png' },
        { word: '‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', reading: '‡∏ô‡πâ‡∏≥-‡πÄ‡∏á‡∏¥‡∏ô', meaning: '‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤', emoji: 'üîµ', img: 'blue_thai.png' },
        { word: '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á', reading: '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á', meaning: '‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', emoji: 'üü°', img: 'yellow_thai.png' },
        { word: '‡∏™‡πâ‡∏°', reading: '‡∏™‡πâ‡∏°', meaning: '‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏™‡πâ‡∏°', emoji: 'üü†', img: 'orange_color_thai.png' },
        { word: '‡∏°‡πà‡∏ß‡∏á', reading: '‡∏°‡πà‡∏ß‡∏á', meaning: '‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠', emoji: 'üü£', img: 'purple_thai.png' },
        { word: '‡∏ä‡∏°‡∏û‡∏π', reading: '‡∏ä‡∏°-‡∏û‡∏π', meaning: '‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ', emoji: 'ü©∑', img: 'pink_thai.png' },
        { word: '‡∏î‡∏≥', reading: '‡∏î‡∏≥', meaning: '‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∑‡∏ô', emoji: '‚ö´', img: 'black_thai.png' }
      ],
      body: [
        { word: '‡∏´‡∏±‡∏ß', reading: '‡∏´‡∏±‡∏ß', meaning: '‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢', emoji: 'üë§', img: 'head_thai.png' },
        { word: '‡∏ï‡∏≤', reading: '‡∏ï‡∏≤', meaning: '‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏°‡∏≠‡∏á', emoji: 'üëÅÔ∏è', img: 'eye_thai.png' },
        { word: '‡∏à‡∏°‡∏π‡∏Å', reading: '‡∏à-‡∏°‡∏π‡∏Å', meaning: '‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏´‡∏≤‡∏¢‡πÉ‡∏à', emoji: 'üëÉ', img: 'nose_thai.png' },
        { word: '‡∏õ‡∏≤‡∏Å', reading: '‡∏õ‡∏≤‡∏Å', meaning: '‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Å‡∏¥‡∏ô', emoji: 'üëÑ', img: 'mouth_thai.png' },
        { word: '‡∏´‡∏π', reading: '‡∏´‡∏π', meaning: '‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á', emoji: 'üëÇ', img: 'ear_thai.png' },
        { word: '‡∏°‡∏∑‡∏≠', reading: '‡∏°‡∏∑‡∏≠', meaning: '‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏ö', emoji: '‚úã', img: 'hand_thai.png' },
        { word: '‡πÄ‡∏ó‡πâ‡∏≤', reading: '‡πÄ‡∏ó‡πâ‡∏≤', meaning: '‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏î‡∏¥‡∏ô', emoji: 'ü¶∂', img: 'foot_thai.png' },
        { word: '‡∏ü‡∏±‡∏ô', reading: '‡∏ü‡∏±‡∏ô', meaning: '‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏µ‡πâ‡∏¢‡∏ß', emoji: 'ü¶∑', img: 'tooth_thai.png' }
      ],
      food: [
        { word: '‡∏Ç‡πâ‡∏≤‡∏ß', reading: '‡∏Ç‡πâ‡∏≤‡∏ß', meaning: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡πÑ‡∏ó‡∏¢', emoji: 'üçö', img: 'rice_thai.png' },
        { word: '‡∏ô‡πâ‡∏≥', reading: '‡∏ô‡πâ‡∏≥', meaning: '‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡πÉ‡∏™', emoji: 'üíß', img: 'water_thai.png' },
        { word: '‡∏ô‡∏°', reading: '‡∏ô‡∏°', meaning: '‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß', emoji: 'ü•õ', img: 'milk_thai.png' },
        { word: '‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á', reading: '‡∏Ç‡∏ô‡∏°-‡∏õ‡∏±‡∏á', meaning: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏≥‡∏à‡∏≤‡∏Å‡πÅ‡∏õ‡πâ‡∏á', emoji: 'üçû', img: 'bread_thai.png' },
        { word: '‡πÑ‡∏Ç‡πà', reading: '‡πÑ‡∏Ç‡πà', meaning: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡πÑ‡∏Å‡πà', emoji: 'ü•ö', img: 'egg_thai.png' },
        { word: '‡∏ú‡∏±‡∏Å', reading: '‡∏ú‡∏±‡∏Å', meaning: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', emoji: 'ü•¨', img: 'vegetable_thai.png' },
        { word: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠', reading: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠', meaning: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå', emoji: 'ü•©', img: 'meat_thai.png' },
        { word: '‡∏ú‡∏•‡πÑ‡∏°‡πâ', reading: '‡∏ú‡∏•-‡πÑ‡∏°‡πâ', meaning: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏ß‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ', emoji: 'üçé', img: 'fruit_thai.png' }
      ]
    };

    const englishAlphabet = [
      { ch: 'A', name: '‡πÄ‡∏≠', word: 'Apple', emoji: 'üçé' },
      { ch: 'B', name: '‡∏ö‡∏µ', word: 'Ball', emoji: '‚öΩ' },
      { ch: 'C', name: '‡∏ã‡∏µ', word: 'Cat', emoji: 'üê±' },
      { ch: 'D', name: '‡∏î‡∏µ', word: 'Dog', emoji: 'üê∂' },
      { ch: 'E', name: '‡∏≠‡∏µ', word: 'Elephant', emoji: 'üêò' },
      { ch: 'F', name: '‡πÄ‡∏≠‡∏ü', word: 'Fish', emoji: 'üêü' },
      { ch: 'G', name: '‡∏à‡∏µ', word: 'Giraffe', emoji: 'ü¶í' },
      { ch: 'H', name: '‡πÄ‡∏≠‡∏ä', word: 'House', emoji: 'üè†' },
      { ch: 'I', name: '‡πÑ‡∏≠', word: 'Ice cream', emoji: 'üç¶' },
      { ch: 'J', name: '‡πÄ‡∏à', word: 'Juice', emoji: 'üßÉ' },
      { ch: 'K', name: '‡πÄ‡∏Ñ', word: 'Kite', emoji: 'ü™Å' },
      { ch: 'L', name: '‡πÄ‡∏≠‡∏•', word: 'Lion', emoji: 'ü¶Å' },
      { ch: 'M', name: '‡πÄ‡∏≠‡∏°', word: 'Monkey', emoji: 'üêµ' },
      { ch: 'N', name: '‡πÄ‡∏≠‡∏ô', word: 'Nose', emoji: 'üëÉ' },
      { ch: 'O', name: '‡πÇ‡∏≠', word: 'Orange', emoji: 'üçä' },
      { ch: 'P', name: '‡∏û‡∏µ', word: 'Pig', emoji: 'üê∑' },
      { ch: 'Q', name: '‡∏Ñ‡∏¥‡∏ß', word: 'Queen', emoji: 'üë∏' },
      { ch: 'R', name: '‡∏≠‡∏≤‡∏£‡πå', word: 'Rabbit', emoji: 'üê∞' },
      { ch: 'S', name: '‡πÄ‡∏≠‡∏™', word: 'Sun', emoji: '‚òÄÔ∏è' },
      { ch: 'T', name: '‡∏ó‡∏µ', word: 'Tiger', emoji: 'üêÖ' },
      { ch: 'U', name: '‡∏¢‡∏π', word: 'Umbrella', emoji: '‚òÇÔ∏è' },
      { ch: 'V', name: '‡∏ß‡∏µ', word: 'Van', emoji: 'üöê' },
      { ch: 'W', name: '‡∏î‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏•‡∏¢‡∏π', word: 'Water', emoji: 'üíß' },
      { ch: 'X', name: '‡πÄ‡∏≠‡πá‡∏Å‡∏ã‡πå', word: 'X-ray', emoji: 'ü©ª' },
      { ch: 'Y', name: '‡∏ß‡∏≤‡∏¢', word: 'Yellow', emoji: 'üü°' },
      { ch: 'Z', name: '‡πÅ‡∏ã‡∏î', word: 'Zebra', emoji: 'ü¶ì' }
    ];

    const englishVocabulary = {
      animals: [
        { en: 'Cat', th: '‡πÅ‡∏°‡∏ß', emoji: 'üê±', img: 'cat.png' },
        { en: 'Dog', th: '‡∏´‡∏°‡∏≤', emoji: 'üê∂', img: 'dog.png' },
        { en: 'Bird', th: '‡∏ô‡∏Å', emoji: 'üê¶', img: 'bird.png' },
        { en: 'Fish', th: '‡∏õ‡∏•‡∏≤', emoji: 'üêü', img: 'fish.png' },
        { en: 'Elephant', th: '‡∏ä‡πâ‡∏≤‡∏á', emoji: 'üêò', img: 'elephant.png' },
        { en: 'Lion', th: '‡∏™‡∏¥‡∏á‡πÇ‡∏ï', emoji: 'ü¶Å', img: 'lion.png' },
        { en: 'Tiger', th: '‡πÄ‡∏™‡∏∑‡∏≠', emoji: 'üêÖ', img: 'tiger.png' },
        { en: 'Monkey', th: '‡∏•‡∏¥‡∏á', emoji: 'üêµ', img: 'monkey.png' },
        { en: 'Rabbit', th: '‡∏Å‡∏£‡∏∞‡∏ï‡πà‡∏≤‡∏¢', emoji: 'üê∞', img: 'rabbit.png' },
        { en: 'Bear', th: '‡∏´‡∏°‡∏µ', emoji: 'üêª', img: 'bear.png' },
        { en: 'Cow', th: '‡∏ß‡∏±‡∏ß', emoji: 'üêÑ', img: 'cow.png' },
        { en: 'Pig', th: '‡∏´‡∏°‡∏π', emoji: 'üê∑', img: 'pig.png' }
      ],
      fruits: [
        { en: 'Apple', th: '‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•', emoji: 'üçé', img: 'apple.png' },
        { en: 'Banana', th: '‡∏Å‡∏•‡πâ‡∏ß‡∏¢', emoji: 'üçå', img: 'banana.png' },
        { en: 'Orange', th: '‡∏™‡πâ‡∏°', emoji: 'üçä', img: 'orange.png' },
        { en: 'Grape', th: '‡∏≠‡∏á‡∏∏‡πà‡∏ô', emoji: 'üçá', img: 'grape.png' },
        { en: 'Strawberry', th: '‡∏™‡∏ï‡∏£‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ‡πà', emoji: 'üçì', img: 'strawberry.png' },
        { en: 'Watermelon', th: '‡πÅ‡∏ï‡∏á‡πÇ‡∏°', emoji: 'üçâ', img: 'watermelon.png' },
        { en: 'Pineapple', th: '‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î', emoji: 'üçç', img: 'pineapple.png' },
        { en: 'Mango', th: '‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á', emoji: 'ü•≠', img: 'mango.png' },
        { en: 'Coconut', th: '‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß', emoji: 'ü••', img: 'coconut.png' },
        { en: 'Peach', th: '‡∏•‡∏π‡∏Å‡∏û‡∏µ‡∏ä', emoji: 'üçë', img: 'peach.png' },
        { en: 'Cherry', th: '‡πÄ‡∏ä‡∏≠‡∏£‡πå‡∏£‡∏µ‡πà', emoji: 'üçí', img: 'cherry.png' },
        { en: 'Lemon', th: '‡∏°‡∏∞‡∏ô‡∏≤‡∏ß', emoji: 'üçã', img: 'lemon.png' }
      ],
      colors: [
        { en: 'Red', th: '‡∏™‡∏µ‡πÅ‡∏î‡∏á', emoji: 'üî¥', img: 'red.png' },
        { en: 'Blue', th: '‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', emoji: 'üîµ', img: 'blue.png' },
        { en: 'Green', th: '‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', emoji: 'üü¢', img: 'green.png' },
        { en: 'Yellow', th: '‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á', emoji: 'üü°', img: 'yellow.png' },
        { en: 'Orange', th: '‡∏™‡∏µ‡∏™‡πâ‡∏°', emoji: 'üü†', img: 'orange_color.png' },
        { en: 'Purple', th: '‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á', emoji: 'üü£', img: 'purple.png' },
        { en: 'Pink', th: '‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π', emoji: 'ü©∑', img: 'pink.png' },
        { en: 'Brown', th: '‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•', emoji: 'ü§é', img: 'brown.png' },
        { en: 'Black', th: '‡∏™‡∏µ‡∏î‡∏≥', emoji: '‚ö´', img: 'black.png' },
        { en: 'White', th: '‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß', emoji: '‚ö™', img: 'white.png' },
        { en: 'Gray', th: '‡∏™‡∏µ‡πÄ‡∏ó‡∏≤', emoji: 'ü©∂', img: 'gray.png' },
        { en: 'Gold', th: '‡∏™‡∏µ‡∏ó‡∏≠‡∏á', emoji: 'üü®', img: 'gold.png' }
      ]
    };

    /* ===== Initialize Application (auto, no login) ===== */
    function initializeApp() {
      // set initial display name/team
      document.getElementById('current-player').textContent = `${currentPlayer.team} - ${currentPlayer.name}`;
      document.getElementById('current-score').textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${currentPlayer.score}`;
      showSection('consonants');
      createAllSections();
    }
    window.addEventListener('DOMContentLoaded', initializeApp);

    /* ===== Section Management ===== */
    function showSection(sectionName) {
      document.querySelectorAll('.section-content').forEach(section => section.classList.add('hidden'));
      document.getElementById(`${sectionName}-section`).classList.remove('hidden');

      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('animate-pulse-fast'));

      gameState.currentSection = sectionName;
      gameState.currentIndex = 0;
      gameState.isGridView = false;

      initializeSection(sectionName);
    }

    /* ===== Create All Sections ===== */
    function createAllSections() {
      createConsonantsSection();
      createVowelsSection();
      createNumbersSection();
      createTonesSection();
      createThaiVocabSection();
      createEnglishAlphabetSection();
      createEnglishVocabSection();
    }

    /* ===== Create Consonants Section ===== */
    function createConsonantsSection() {
      const section = document.getElementById('consonants-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-yellow-300">
          <h2 class="text-6xl font-bold text-yellow-600 mb-8 text-center drop-shadow-lg animate-wiggle">üìù ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢ üåü</h2>
          <div class="text-center mb-6">
            <button id="toggle-consonants" onclick="toggleView('consonants')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®
            </button>
          </div>
          <div id="consonants-gallery" class="gallery-view">
            ${createGalleryView('consonants', thaiConsonants)}
          </div>
          <div id="consonants-grid" class="grid-view hidden">
            ${createGridView('consonants', thaiConsonants)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('consonants')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üèÜ
            </button>
          </div>
        </div>
      `;
    }

    /* ===== Create Gallery View ===== */
    function createGalleryView(sectionName, dataArray) {
      return `
        <div class="flex justify-between items-center mb-6">
          <button id="prev-${sectionName}" onclick="previousItem('${sectionName}')" class="bg-gradient-to-r from-orange-400 to-red-500 hover:from-orange-500 hover:to-red-600 text-white p-4 rounded-full shadow-xl transition-all transform hover:scale-110">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7"></path>
            </svg>
          </button>

          <div class="text-center bg-white rounded-2xl p-4 shadow-lg border-4 border-pink-300">
            <div class="text-2xl font-bold text-purple-600 mb-2">
              üéØ <span id="${sectionName}-counter">1</span> / ${dataArray.length} üéØ
            </div>
            <div class="text-lg text-pink-600 font-semibold">‚ú® ‡πÅ‡∏ï‡∏∞‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á ‚ú®</div>
          </div>

          <button id="next-${sectionName}" onclick="nextItem('${sectionName}')" class="bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white p-4 rounded-full shadow-xl transition-all transform hover:scale-110">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path>
            </svg>
          </button>
        </div>

        <div id="${sectionName}-display" class="max-w-2xl mx-auto">
          <div class="rounded-3xl p-8 cursor-pointer hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white shadow-xl"
               onclick="playCurrentSound('${sectionName}')"
               style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 25%, #fecfef 50%, #a8edea 75%, #fed6e3 100%);">
            <div class="flex items-center justify-center gap-8">
              <div class="flex-shrink-0">
                <div class="w-64 h-80 bg-white rounded-2xl shadow-lg flex items-center justify-center overflow-hidden">
                  <img id="${sectionName}-image" src="" alt="" class="w-60 h-76 object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
                  <div id="${sectionName}-emoji" class="text-4xl hidden">üêì</div>
                </div>
              </div>

              <div class="flex flex-col items-center text-center">
                <div id="${sectionName}-char" class="font-bold text-gray-800 mb-2 leading-none" style="font-size: 10rem; height: 10rem;">‡∏Å</div>
                <div id="${sectionName}-name" class="text-3xl font-bold text-gray-700 mb-6">‡∏Å‡∏≠ ‡πÑ‡∏Å‡πà</div>
                <button class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-full text-2xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white">
                  üîä ‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á üéµ
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="flex justify-center mt-8 space-x-2 overflow-x-auto pb-2">
          <div id="${sectionName}-dots" class="flex space-x-2"></div>
        </div>
      `;
    }

    /* ===== Create Grid View ===== */
    function createGridView(sectionName, dataArray) {
      return `
        <div class="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4" id="${sectionName}-grid-container"></div>
        <div class="text-center mt-6">
          <span class="text-gray-600">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${dataArray.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
        </div>
      `;
    }

    /* ===== Initialize Section ===== */
    function initializeSection(sectionName) {
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };

      const data = dataMap[sectionName];
      if (data) {
        updateDisplay(sectionName, data);
        createNavigationDots(sectionName, data);
        populateGrid(sectionName, data);
      }
    }

    /* ===== Update Display ===== */
    function updateDisplay(sectionName, dataArray) {
      const currentIndex = gameState.currentIndex;
      const item = dataArray[currentIndex];
      if (!item) return;

      const charElement = document.getElementById(`${sectionName}-char`);
      const nameElement = document.getElementById(`${sectionName}-name`);
      const imageElement = document.getElementById(`${sectionName}-image`);
      const emojiElement = document.getElementById(`${sectionName}-emoji`);
      const counterElement = document.getElementById(`${sectionName}-counter`);

      if (charElement) charElement.textContent = item.ch || item.word || item.en;
      if (nameElement) nameElement.textContent = item.name || item.reading || item.th;
      if (counterElement) counterElement.textContent = currentIndex + 1;

      if (imageElement && item.img) {
        imageElement.src = `${IMG_BASE}/${item.img}`;
        imageElement.alt = item.name || item.word || item.en;
      }

      if (emojiElement) {
        if (item.emoji && !item.img) {
          emojiElement.textContent = item.emoji;
          emojiElement.classList.remove('hidden');
          if (imageElement) imageElement.style.display = 'none';
        } else {
          emojiElement.classList.add('hidden');
          if (imageElement) imageElement.style.display = 'block';
        }
      }

      const prevBtn = document.getElementById(`prev-${sectionName}`);
      const nextBtn = document.getElementById(`next-${sectionName}`);
      if (prevBtn) prevBtn.disabled = currentIndex === 0;
      if (nextBtn) nextBtn.disabled = currentIndex === dataArray.length - 1;

      updateNavigationDots(sectionName, dataArray);
    }

    /* ===== Navigation Functions ===== */
    function previousItem(sectionName) {
      if (gameState.currentIndex > 0) {
        gameState.currentIndex--;
        const dataMap = {
          'consonants': thaiConsonants,
          'vowels': thaiVowels,
          'numbers': thaiNumbers,
          'tones': thaiToneMarks,
          'thai-vocab': thaiVocabulary.animals,
          'english-alphabet': englishAlphabet,
          'english-vocab': englishVocabulary.animals
        };
        updateDisplay(sectionName, dataMap[sectionName]);
      }
    }

    function nextItem(sectionName) {
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };
      const data = dataMap[sectionName];

      if (gameState.currentIndex < data.length - 1) {
        gameState.currentIndex++;
        updateDisplay(sectionName, data);
      }
    }

    function goToItem(sectionName, index) {
      gameState.currentIndex = index;
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };
      updateDisplay(sectionName, dataMap[sectionName]);
    }

    /* ===== Toggle View ===== */
    function toggleView(sectionName) {
      const galleryView = document.getElementById(`${sectionName}-gallery`);
      const gridView = document.getElementById(`${sectionName}-grid`);
      const toggleButton = document.getElementById(`toggle-${sectionName}`);

      gameState.isGridView = !gameState.isGridView;

      if (gameState.isGridView) {
        galleryView.classList.add('hidden');
        gridView.classList.remove('hidden');
        toggleButton.textContent = 'üîÑ ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ ‚ú®';
        toggleButton.className = 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl';
      } else {
        galleryView.classList.remove('hidden');
        gridView.classList.add('hidden');
        toggleButton.textContent = 'üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®';
        toggleButton.className = 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl';
      }
    }

    /* ===== Create Navigation Dots ===== */
    function createNavigationDots(sectionName, dataArray) {
      const dotsContainer = document.getElementById(`${sectionName}-dots`);
      if (!dotsContainer) return;

      dotsContainer.innerHTML = '';

      dataArray.forEach((item, index) => {
        const dot = document.createElement('button');
        dot.className = 'w-8 h-8 rounded-full text-sm font-bold transition-all transform hover:scale-110';
        dot.textContent = item.ch || item.word?.[0] || item.en?.[0] || (index + 1);
        dot.onclick = () => goToItem(sectionName, index);
        dotsContainer.appendChild(dot);
      });

      updateNavigationDots(sectionName, dataArray);
    }

    /* ===== Update Navigation Dots ===== */
    function updateNavigationDots(sectionName, dataArray) {
      const dots = document.querySelectorAll(`#${sectionName}-dots button`);
      dots.forEach((dot, index) => {
        if (index === gameState.currentIndex) {
          dot.className = 'w-8 h-8 rounded-full text-sm font-bold bg-blue-500 text-white shadow-lg transition-all transform scale-110';
        } else {
          dot.className = 'w-8 h-8 rounded-full text-sm font-bold bg-gray-200 text-gray-700 hover:bg-gray-300 transition-all transform hover:scale-110';
        }
      });
    }

    /* ===== Populate Grid ===== */
    function populateGrid(sectionName, dataArray) {
      const gridContainer = document.getElementById(`${sectionName}-grid-container`);
      if (!gridContainer) return;

      gridContainer.innerHTML = '';

      dataArray.forEach((item) => {
        const card = document.createElement('div');
        card.className = 'bg-gradient-to-br from-white to-gray-100 rounded-xl p-3 shadow-lg hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-center border-2 border-gray-200 hover:border-purple-300';
        card.onclick = () => {
          playItemSound(item, sectionName);
        };

        const displayText = item.ch || item.word || item.en;
        const subText = item.name || item.reading || item.th;
        const emoji = item.emoji || 'üîä';

        card.innerHTML = `
          <div class="relative w-full h-16 mb-2 bg-white rounded-lg overflow-hidden flex items-center justify-center">
            ${item.img ?
              `<img src="${IMG_BASE}/${item.img}" alt="${displayText}" class="w-14 h-14 object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
               <div class="text-2xl hidden">${emoji}</div>` :
              `<div class="text-2xl">${emoji}</div>`
            }
            <div class="absolute bottom-0 right-0 bg-green-500 text-white rounded-full px-1 py-0.5 text-xs">üîä</div>
          </div>
          <div class="text-xl font-bold mb-1 text-purple-600">${displayText}</div>
          <div class="text-xs text-gray-600 truncate">${subText}</div>
        `;

        gridContainer.appendChild(card);
      });
    }

    /* ===== Sound Functions ===== */
    let currentAudio = null;

    function playCurrentSound(sectionName) {
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };

      const data = dataMap[sectionName];
      const item = data[gameState.currentIndex];
      playItemSound(item, sectionName);
    }

    function playItemSound(item, sectionName) {
      if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
        currentAudio = null;
      }

      const displayText = item.name || item.reading || item.word || item.en || item.ch;

      if (item.sound) {
        const audioUrl = `${SOUND_BASE}/${item.sound}`;
        const audio = new Audio(audioUrl);
        currentAudio = audio;

        audio.onloadstart = () => {
          showSoundFeedback(`üîä ${displayText}`, 'success');
        };

        audio.onended = () => {
          currentAudio = null;
        };

        audio.onerror = () => {
          currentAudio = null;
          fallbackToTTS(displayText, sectionName);
        };

        audio.play().catch(() => {
          fallbackToTTS(displayText, sectionName);
        });
      } else {
        fallbackToTTS(displayText, sectionName);
      }
    }

    function fallbackToTTS(text, sectionName) {
      if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance(text);

        if (sectionName.includes('english')) {
          utterance.lang = 'en-US';
        } else {
          utterance.lang = 'th-TH';
        }

        utterance.rate = 0.8;
        utterance.pitch = 1.0;
        utterance.volume = 0.8;

        const voices = speechSynthesis.getVoices();
        const voice = voices.find(v => v.lang.includes(utterance.lang.split('-')[0]));
        if (voice) utterance.voice = voice;

        utterance.onstart = () => {
          showSoundFeedback(`üîä ${text}`, 'success');
        };

        speechSynthesis.speak(utterance);
      } else {
        showSoundFeedback(`üîä ${text}`, 'success');
      }
    }

    function showSoundFeedback(text, type = 'success') {
      const feedback = document.createElement('div');
      const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';
      feedback.className = `fixed top-4 right-4 ${bgColor} text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-all transform`;
      feedback.textContent = text;
      document.body.appendChild(feedback);

      setTimeout(() => feedback.classList.add('scale-110'), 50);
      setTimeout(() => {
        feedback.classList.add('opacity-0', 'scale-90');
        setTimeout(() => feedback.remove(), 300);
      }, 1500);
    }

    /* ===== Create Other Sections ===== */
    function createVowelsSection() {
      const section = document.getElementById('vowels-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-purple-300">
          <h2 class="text-6xl font-bold text-purple-600 mb-8 text-center drop-shadow-lg animate-wiggle">üéµ ‡∏™‡∏£‡∏∞‡πÑ‡∏ó‡∏¢ üå∏</h2>
          <div class="text-center mb-6">
            <button id="toggle-vowels" onclick="toggleView('vowels')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®
            </button>
          </div>
          <div id="vowels-gallery" class="gallery-view">
            ${createGalleryView('vowels', thaiVowels)}
          </div>
          <div id="vowels-grid" class="grid-view hidden">
            ${createGridView('vowels', thaiVowels)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('vowels')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üèÜ
            </button>
          </div>
        </div>
      `;
    }

    function createNumbersSection() {
      const section = document.getElementById('numbers-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-green-100 via-yellow-100 to-orange-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-green-300">
          <h2 class="text-6xl font-bold text-green-600 mb-8 text-center drop-shadow-lg animate-wiggle">üî¢ ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏ó‡∏¢ üéØ</h2>
          <div class="text-center mb-6">
            <button id="toggle-numbers" onclick="toggleView('numbers')" class="bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®
            </button>
          </div>
          <div id="numbers-gallery" class="gallery-view">
            ${createGalleryView('numbers', thaiNumbers)}
          </div>
          <div id="numbers-grid" class="grid-view hidden">
            ${createGridView('numbers', thaiNumbers)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('numbers')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üèÜ
            </button>
          </div>
        </div>
      `;
    }

    function createTonesSection() {
      const section = document.getElementById('tones-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-orange-100 via-red-100 to-pink-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-orange-300">
          <h2 class="text-6xl font-bold text-orange-600 mb-8 text-center drop-shadow-lg animate-wiggle">üéº ‡∏ß‡∏£‡∏£‡∏ì‡∏¢‡∏∏‡∏Å‡∏ï‡πå üé∂</h2>
          <div class="text-center mb-6">
            <button id="toggle-tones" onclick="toggleView('tones')" class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®
            </button>
          </div>
          <div id="tones-gallery" class="gallery-view">
            ${createGalleryView('tones', thaiToneMarks)}
          </div>
          <div id="tones-grid" class="grid-view hidden">
            ${createGridView('tones', thaiToneMarks)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('tones')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üèÜ
            </button>
          </div>
        </div>
      `;
    }

    function createThaiVocabSection() {
      const section = document.getElementById('thai-vocab-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-teal-100 via-cyan-100 to-blue-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-teal-300">
          <h2 class="text-6xl font-bold text-teal-600 mb-8 text-center drop-shadow-lg animate-wiggle">üìö ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÑ‡∏ó‡∏¢ üå∫</h2>
          <div class="flex flex-wrap justify-center mb-8 gap-3">
            <button onclick="showThaiCategory('animals')" class="thai-tab-btn bg-gradient-to-r from-teal-400 to-cyan-500 text-white px-6 py-3 rounded-full font-bold hover:from-teal-500 hover:to-cyan-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="animals">üêæ ‡∏™‡∏±‡∏ï‡∏ß‡πå</button>
            <button onclick="showThaiCategory('fruits')" class="thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="fruits">üçé ‡∏ú‡∏•‡πÑ‡∏°‡πâ</button>
            <button onclick="showThaiCategory('colors')" class="thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="colors">üåà ‡∏™‡∏µ</button>
            <button onclick="showThaiCategory('body')" class="thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="body">üë§ ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢</button>
            <button onclick="showThaiCategory('food')" class="thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="food">üçï ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
          </div>
          <div class="text-center mb-6">
            <button id="toggle-thai-vocab" onclick="toggleView('thai-vocab')" class="bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®
            </button>
          </div>
          <div id="thai-vocab-gallery" class="gallery-view">
            ${createGalleryView('thai-vocab', thaiVocabulary.animals)}
          </div>
          <div id="thai-vocab-grid" class="grid-view hidden">
            ${createGridView('thai-vocab', thaiVocabulary.animals)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('thai-vocab')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üèÜ
            </button>
          </div>
        </div>
      `;
    }

    function createEnglishAlphabetSection() {
      const section = document.getElementById('english-alphabet-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-indigo-100 via-blue-100 to-cyan-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-indigo-300">
          <h2 class="text-6xl font-bold text-indigo-600 mb-8 text-center drop-shadow-lg animate-wiggle">üî§ ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© A-Z üåü</h2>
          <div class="text-center mb-6">
            <button id="toggle-english-alphabet" onclick="toggleView('english-alphabet')" class="bg-gradient-to-r from-indigo-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®
            </button>
          </div>
          <div id="english-alphabet-gallery" class="gallery-view">
            ${createGalleryView('english-alphabet', englishAlphabet)}
          </div>
          <div id="english-alphabet-grid" class="grid-view hidden">
            ${createGridView('english-alphabet', englishAlphabet)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('english-alphabet')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üèÜ
            </button>
          </div>
        </div>
      `;
    }

    function createEnglishVocabSection() {
      const section = document.getElementById('english-vocab-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-red-100 via-pink-100 to-rose-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-red-300">
          <h2 class="text-6xl font-bold text-red-600 mb-8 text-center drop-shadow-lg animate-wiggle">üåü ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© üéà</h2>
          <div class="flex flex-wrap justify-center mb-8 gap-3">
            <button onclick="showEnglishCategory('animals')" class="english-tab-btn bg-gradient-to-r from-red-400 to-pink-500 text-white px-6 py-3 rounded-full font-bold hover:from-red-500 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="animals">üêæ ‡∏™‡∏±‡∏ï‡∏ß‡πå</button>
            <button onclick="showEnglishCategory('fruits')" class="english-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="fruits">üçé ‡∏ú‡∏•‡πÑ‡∏°‡πâ</button>
            <button onclick="showEnglishCategory('colors')" class="english-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="colors">üåà ‡∏™‡∏µ</button>
          </div>
          <div class="text-center mb-6">
            <button id="toggle-english-vocab" onclick="toggleView('english-vocab')" class="bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              üìã ‡∏î‡∏π‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚ú®
            </button>
          </div>
          <div id="english-vocab-gallery" class="gallery-view">
            ${createGalleryView('english-vocab', englishVocabulary.animals)}
          </div>
          <div id="english-vocab-grid" class="grid-view hidden">
            ${createGridView('english-vocab', englishVocabulary.animals)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('english-vocab')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö! üèÜ
            </button>
          </div>
        </div>
      `;
    }

    /* ===== Category Functions ===== */
    function showThaiCategory(category) {
      document.querySelectorAll('.thai-tab-btn').forEach(btn => {
        if (btn.dataset.category === category) {
          btn.className = 'thai-tab-btn bg-gradient-to-r from-teal-400 to-cyan-500 text-white px-6 py-3 rounded-full font-bold hover:from-teal-500 hover:to-cyan-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white';
        } else {
          btn.className = 'thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white';
        }
      });

      gameState.currentIndex = 0;
      const data = thaiVocabulary[category];
      updateDisplay('thai-vocab', data);
      createNavigationDots('thai-vocab', data);
      populateGrid('thai-vocab', data);
    }

    function showEnglishCategory(category) {
      document.querySelectorAll('.english-tab-btn').forEach(btn => {
        if (btn.dataset.category === category) {
          btn.className = 'english-tab-btn bg-gradient-to-r from-red-400 to-pink-500 text-white px-6 py-3 rounded-full font-bold hover:from-red-500 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white';
        } else {
          btn.className = 'english-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white';
        }
      });

      gameState.currentIndex = 0;
      const data = englishVocabulary[category];
      updateDisplay('english-vocab', data);
      createNavigationDots('english-vocab', data);
      populateGrid('english-vocab', data);
    }

    /* ===== Game System ===== */
    function startGame(sectionName) {
      gameState.gameActive = true;
      gameState.gameScore = 0;
      gameState.questionNumber = 1;
      gameState.timeLeft = 30;

      document.getElementById('game-modal').classList.remove('hidden');
      document.getElementById('game-title').textContent = `üéÆ ‡πÄ‡∏Å‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö${getSectionTitle(sectionName)} üèÜ`;

      generateGameQuestion(sectionName);
      startGameTimer();
    }

    function getSectionTitle(sectionName) {
      const titles = {
        'consonants': '‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢',
        'vowels': '‡∏™‡∏£‡∏∞‡πÑ‡∏ó‡∏¢',
        'numbers': '‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏ó‡∏¢',
        'tones': '‡∏ß‡∏£‡∏£‡∏ì‡∏¢‡∏∏‡∏Å‡∏ï‡πå',
        'thai-vocab': '‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÑ‡∏ó‡∏¢',
        'english-alphabet': 'A-Z ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©',
        'english-vocab': '‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©'
      };
      return titles[sectionName] || '';
    }

    function generateGameQuestion(sectionName) {
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };

      const data = dataMap[sectionName];
      const correctAnswer = data[Math.floor(Math.random() * data.length)];
      const wrongAnswers = data.filter(item => item !== correctAnswer).sort(() => 0.5 - Math.random()).slice(0, 3);
      const allAnswers = [correctAnswer, ...wrongAnswers].sort(() => 0.5 - Math.random());

      const gameContent = document.getElementById('game-content');
      gameContent.innerHTML = `
        <div class="mb-8">
          <div class="text-center mb-6">
            <div class="text-8xl mb-4">${correctAnswer.emoji || 'üéØ'}</div>
            <div class="text-4xl font-bold text-purple-600 mb-4">
              ${correctAnswer.img ? `<img src="${IMG_BASE}/${correctAnswer.img}" alt="question" class="w-32 h-32 mx-auto object-contain bg-white rounded-2xl shadow-lg p-2" />` : ''}
            </div>
            <div class="text-2xl font-bold text-gray-700">
              ${getQuestionText(sectionName, correctAnswer)}
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            ${allAnswers.map((answer, index) => `
              <button onclick="selectAnswer('${sectionName}', ${allAnswers.indexOf(correctAnswer) === index}, '${getAnswerText(sectionName, answer)}')"
                      class="bg-gradient-to-r from-blue-400 to-purple-500 hover:from-blue-500 hover:to-purple-600 text-white font-bold py-6 px-4 rounded-2xl text-xl shadow-xl transition-all transform hover:scale-105 border-4 border-white">
                ${getAnswerText(sectionName, answer)}
              </button>
            `).join('')}
          </div>
        </div>
      `;

      document.getElementById('game-score').textContent = gameState.gameScore;
      document.getElementById('question-number').textContent = gameState.questionNumber;
    }

    function getQuestionText(sectionName, item) {
      switch(sectionName) {
        case 'consonants': return `‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?`;
        case 'vowels': return `‡∏™‡∏£‡∏∞‡∏ô‡∏µ‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?`;
        case 'numbers': return `‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏•‡∏Ç‡∏≠‡∏∞‡πÑ‡∏£?`;
        case 'tones': return `‡∏ß‡∏£‡∏£‡∏ì‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?`;
        case 'thai-vocab': return `‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?`;
        case 'english-alphabet': return `‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?`;
        case 'english-vocab': return `‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?`;
        default: return `‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?`;
      }
    }

    function getAnswerText(sectionName, item) {
      switch(sectionName) {
        case 'consonants':
        case 'vowels':
        case 'tones':
          return item.name;
        case 'numbers':
          return item.name;
        case 'thai-vocab':
          return item.reading;
        case 'english-alphabet':
          return item.ch;
        case 'english-vocab':
          return item.th;
        default:
          return item.name || item.ch || item.word;
      }
    }

    function selectAnswer(sectionName, isCorrect) {
      if (isCorrect) {
        gameState.gameScore += 10;
        currentPlayer.score += 10;
        showGameFeedback('üéâ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! +10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô', 'success');
        playSuccessSound();
      } else {
        showGameFeedback('‚ùå ‡∏ú‡∏¥‡∏î! ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞', 'error');
        playErrorSound();
      }

      document.getElementById('game-score').textContent = gameState.gameScore;
      document.getElementById('current-score').textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${currentPlayer.score}`;

      setTimeout(() => {
        if (gameState.questionNumber >= 10) {
          endGame(sectionName);
        } else {
          gameState.questionNumber++;
          gameState.timeLeft = 30;
          generateGameQuestion(sectionName);
        }
      }, 1500);
    }

    function startGameTimer() {
      gameState.gameTimer = setInterval(() => {
        gameState.timeLeft--;
        document.getElementById('timer').textContent = gameState.timeLeft;

        if (gameState.timeLeft <= 0) {
          selectAnswer(gameState.currentSection, false);
        }
      }, 1000);
    }

    function endGame(sectionName) {
      clearInterval(gameState.gameTimer);
      gameState.gameActive = false;

      let medal = 'ü•â';
      let medalText = '‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á';
      if (gameState.gameScore >= 80) { medal = 'ü•á'; medalText = '‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á'; }
      else if (gameState.gameScore >= 60) { medal = 'ü•à'; medalText = '‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÄ‡∏á‡∏¥‡∏ô'; }

      const gameContent = document.getElementById('game-content');
      gameContent.innerHTML = `
        <div class="text-center">
          <div class="text-8xl mb-4 animate-bounce">${medal}</div>
          <h3 class="text-4xl font-bold text-purple-600 mb-4">‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß!</h3>
          <div class="text-6xl font-bold text-green-600 mb-4">${gameState.gameScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
          <div class="text-2xl text-gray-700 mb-6">${medalText}</div>
          <div class="bg-white rounded-2xl p-6 shadow-lg mb-6">
            <div class="text-xl font-bold text-purple-600 mb-2">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</div>
            <div class="text-lg">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ${currentPlayer.name}</div>
            <div class="text-lg">‡∏ó‡∏µ‡∏°: ${currentPlayer.team}</div>
            <div class="text-lg">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: ${currentPlayer.score}</div>
          </div>
          <button onclick="saveScore('${sectionName}', ${gameState.gameScore}, '${medal}', '${medalText}')"
                  class="bg-gradient-to-r from-green-400 to-blue-500 text-white font-bold py-4 px-8 rounded-full text-xl shadow-xl transition-all transform hover:scale-105 mb-4">
            üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
          </button>
        </div>
      `;

      playVictorySound();
    }

    function closeGame() {
      clearInterval(gameState.gameTimer);
      gameState.gameActive = false;
      document.getElementById('game-modal').classList.add('hidden');
    }

    /* ===== Sound Effects ===== */
    function playSuccessSound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
      oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
      oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.5);
    }

    function playErrorSound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
      oscillator.frequency.setValueAtTime(150, audioContext.currentTime + 0.1);
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.3);
    }

    function playVictorySound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const notes = [523.25, 659.25, 783.99, 1046.50];
      notes.forEach((freq, index) => {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        oscillator.frequency.setValueAtTime(freq, audioContext.currentTime + index * 0.2);
        gainNode.gain.setValueAtTime(0.2, audioContext.currentTime + index * 0.2);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + index * 0.2 + 0.3);
        oscillator.start(audioContext.currentTime + index * 0.2);
        oscillator.stop(audioContext.currentTime + index * 0.2 + 0.3);
      });
    }

    /* ===== Score Management ===== */
    function saveScore(sectionName, gameScore, medal, medalText) {
      const scoreData = {
        name: currentPlayer.name,
        team: currentPlayer.team,
        section: getSectionTitle(sectionName),
        score: gameScore,
        totalScore: currentPlayer.score,
        medal: medal,
        medalText: medalText,
        timestamp: new Date().toISOString()
      };

      fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(scoreData)
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          showNotification('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üéâ', 'success');
          closeGame();
        } else {
          showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å üòû', 'error');
        }
      })
      .catch(() => {
        showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å üòû', 'error');
      });
    }

    /* ===== Leaderboard ===== */
    function showLeaderboard() {
      document.getElementById('leaderboard-modal').classList.remove('hidden');
      loadLeaderboard();
    }

    function loadLeaderboard() {
      fetch(`${GOOGLE_SCRIPT_URL}?action=getScores`)
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            displayLeaderboard(data.scores);
          } else {
            showNotification('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÑ‡∏î‡πâ üòû', 'error');
          }
        })
        .catch(() => {
          showNotification('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• üòû', 'error');
        });
    }

    function displayLeaderboard(scores) {
      const leaderboardContent = document.getElementById('leaderboard-content');

      if (!scores || scores.length === 0) {
        leaderboardContent.innerHTML = '<div class="text-center text-2xl text-gray-600">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>';
        return;
      }

      const teamScores = {};
      scores.forEach(score => {
        if (!teamScores[score.team]) {
          teamScores[score.team] = { total: 0, players: [] };
        }
        teamScores[score.team].total += score.totalScore;
        teamScores[score.team].players.push(score);
      });

      const sortedTeams = Object.entries(teamScores).sort(([,a], [,b]) => b.total - a.total);

      let html = '<div class="mb-8"><h3 class="text-3xl font-bold text-center mb-6">üèÜ ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡∏° üèÜ</h3>';

      sortedTeams.forEach(([team, data], index) => {
        const position = index + 1;
        let positionEmoji = 'ü•â';
        if (position === 1) positionEmoji = 'ü•á';
        else if (position === 2) positionEmoji = 'ü•à';

        html += `
          <div class="bg-gradient-to-r from-yellow-100 to-orange-100 rounded-2xl p-6 mb-4 shadow-lg border-2 border-yellow-300">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="text-4xl">${positionEmoji}</div>
                <div>
                  <div class="text-2xl font-bold">${team}</div>
                  <div class="text-lg text-gray-600">${data.players.length} ‡∏Ñ‡∏ô</div>
                </div>
              </div>
              <div class="text-3xl font-bold text-green-600">${data.total} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
            </div>
          </div>
        `;
      });

      html += '</div>';

      html += '<div><h3 class="text-3xl font-bold text-center mb-6">üë§ ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• üë§</h3>';
      const sortedIndividual = scores.sort((a, b) => b.totalScore - a.totalScore);

      sortedIndividual.slice(0, 10).forEach((score, index) => {
        const position = index + 1;
        let positionEmoji = 'üèÖ';
        if (position === 1) positionEmoji = 'ü•á';
        else if (position === 2) positionEmoji = 'ü•à';
        else if (position === 3) positionEmoji = 'ü•â';

        html += `
          <div class="bg-gradient-to-r from-blue-100 to-purple-100 rounded-2xl p-4 mb-3 shadow-lg border-2 border-blue-300">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="text-2xl">${positionEmoji}</div>
                <div>
                  <div class="text-xl font-bold">${score.name}</div>
                  <div class="text-sm text-gray-600">${score.team}</div>
                </div>
              </div>
              <div class="text-2xl font-bold text-green-600">${score.totalScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
            </div>
          </div>
        `;
      });

      html += '</div>';

      leaderboardContent.innerHTML = html;
    }

    function closeLeaderboard() {
      document.getElementById('leaderboard-modal').classList.add('hidden');
    }

    /* ===== Utility Functions ===== */
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
      notification.className = `fixed top-4 left-1/2 transform -translate-x-1/2 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all`;
      notification.textContent = message;
      document.body.appendChild(notification);

      setTimeout(() => notification.classList.add('opacity-0'), 3000);
      setTimeout(() => notification.remove(), 3500);
    }

    /* ‚úÖ Fixed: Game feedback function (replacing corrupted snippet) */
    function showGameFeedback(message, type = 'success') {
      const box = document.createElement('div');
      const bg = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
      box.className = `fixed bottom-6 left-1/2 -translate-x-1/2 ${bg} text-white px-6 py-3 rounded-xl shadow-2xl z-50 transition transform`;
      box.textContent = message;
      document.body.appendChild(box);
      setTimeout(() => box.classList.add('scale-105'), 50);
      setTimeout(() => {
        box.classList.add('opacity-0', 'scale-95');
        setTimeout(() => box.remove(), 250);
      }, 1200);
    }
  </script>
</body>
</html>
