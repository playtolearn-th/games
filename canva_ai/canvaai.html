<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸ à¸²à¸©à¸²à¹„à¸—à¸¢à¹à¸¥à¸°à¸­à¸±à¸‡à¸à¸¤à¸© - Play to Learn</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { 'thai': ['TH Sarabun New', 'Sarabun', 'sans-serif'] },
          animation: {
            'bounce-slow': 'bounce 2s infinite',
            'pulse-fast': 'pulse 1s infinite',
            'spin-slow': 'spin 3s linear infinite',
            'wiggle': 'wiggle 1s ease-in-out infinite',
          },
          keyframes: {
            wiggle: {
              '0%, 100%': { transform: 'rotate(-3deg)' },
              '50%': { transform: 'rotate(3deg)' },
            }
          }
        }
      }
    }
  </script>
</head>

<body class="font-thai bg-gradient-to-br from-pink-200 via-purple-200 via-blue-200 to-green-200 min-h-screen text-gray-800">

  <!-- Header -->
  <header class="bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 shadow-2xl py-8 border-b-8 border-rainbow">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <h1 class="text-5xl font-bold text-white mb-4 drop-shadow-lg animate-bounce-slow">
        ğŸŒˆ Play to Learn - à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸ à¸²à¸©à¸²à¹„à¸—à¸¢à¹à¸¥à¸°à¸­à¸±à¸‡à¸à¸¤à¸© ğŸ‰
      </h1>
      <p class="text-2xl text-white font-semibold drop-shadow-md">
        ğŸ¯ à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸à¸¢à¸±à¸à¸Šà¸™à¸°à¹„à¸—à¸¢ à¸ªà¸£à¸° à¸•à¸±à¸§à¹€à¸¥à¸‚ à¹à¸¥à¸°à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸© (à¹à¸•à¸°à¸à¸²à¸£à¹Œà¸”à¹€à¸à¸·à¹ˆà¸­à¸Ÿà¸±à¸‡à¹€à¸ªà¸µà¸¢à¸‡) ğŸ”Š
      </p>
      <div id="player-info" class="mt-4 bg-white bg-opacity-20 rounded-2xl p-4 inline-block">
        <span id="current-player" class="text-xl font-bold">ğŸ§© à¸—à¸±à¹ˆà¸§à¹„à¸› - à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™</span>
        <span id="current-score" class="text-xl font-bold ml-4">à¸„à¸°à¹à¸™à¸™: 0</span>
      </div>
    </div>
  </header>

  <!-- Navigation Menu -->
  <nav class="max-w-6xl mx-auto px-4 py-6">
    <div class="flex flex-wrap justify-center gap-4">
      <button onclick="showSection('consonants')" class="nav-btn bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-3 rounded-full font-bold hover:from-yellow-500 hover:to-orange-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        ğŸ“ à¸à¸¢à¸±à¸à¸Šà¸™à¸°à¹„à¸—à¸¢
      </button>
      <button onclick="showSection('vowels')" class="nav-btn bg-gradient-to-r from-purple-400 to-pink-500 text-white px-6 py-3 rounded-full font-bold hover:from-purple-500 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        ğŸµ à¸ªà¸£à¸°à¹„à¸—à¸¢
      </button>
      <button onclick="showSection('numbers')" class="nav-btn bg-gradient-to-r from-green-400 to-blue-500 text-white px-6 py-3 rounded-full font-bold hover:from-green-500 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        ğŸ”¢ à¸•à¸±à¸§à¹€à¸¥à¸‚à¹„à¸—à¸¢
      </button>
      <button onclick="showSection('tones')" class="nav-btn bg-gradient-to-r from-orange-400 to-red-500 text-white px-6 py-3 rounded-full font-bold hover:from-orange-500 hover:to-red-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        ğŸ¼ à¸§à¸£à¸£à¸“à¸¢à¸¸à¸à¸•à¹Œ
      </button>
      <button onclick="showSection('thai-vocab')" class="nav-btn bg-gradient-to-r from-teal-400 to-cyan-500 text-white px-6 py-3 rounded-full font-bold hover:from-teal-500 hover:to-cyan-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        ğŸ“š à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¹„à¸—à¸¢
      </button>
      <button onclick="showSection('english-alphabet')" class="nav-btn bg-gradient-to-r from-indigo-400 to-blue-500 text-white px-6 py-3 rounded-full font-bold hover:from-indigo-500 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        ğŸ”¤ A-Z à¸­à¸±à¸‡à¸à¸¤à¸©
      </button>
      <button onclick="showSection('english-vocab')" class="nav-btn bg-gradient-to-r from-red-400 to-pink-500 text-white px-6 py-3 rounded-full font-bold hover:from-red-500 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white">
        ğŸŒŸ à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¸­à¸±à¸‡à¸à¸¤à¸©
      </button>
      <button onclick="showLeaderboard()" class="nav-btn bg-gradient-to-r from-yellow-500 to-amber-600 text-white px-6 py-3 rounded-full font-bold hover:from-yellow-600 hover:to-amber-700 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white animate-pulse-fast">
        ğŸ† à¸­à¸±à¸™à¸”à¸±à¸šà¸„à¸°à¹à¸™à¸™
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="max-w-6xl mx-auto px-4 pb-8">
    <!-- Consonants Section -->
    <div id="consonants-section" class="section-content">
      <div class="bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-yellow-300">
        <h2 class="text-6xl font-bold text-yellow-600 mb-8 text-center drop-shadow-lg animate-wiggle">ğŸ“ à¸à¸¢à¸±à¸à¸Šà¸™à¸°à¹„à¸—à¸¢ ğŸŒŸ</h2>

        <!-- Gallery/Grid Toggle -->
        <div class="text-center mb-6">
          <button id="toggle-consonants" onclick="toggleView('consonants')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
            ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨
          </button>
        </div>

        <!-- Gallery View -->
        <div id="consonants-gallery" class="gallery-view">
          <!-- Gallery controls and display will be here -->
        </div>

        <!-- Grid View -->
        <div id="consonants-grid" class="grid-view hidden">
          <!-- Grid will be populated here -->
        </div>

        <!-- Game Button -->
        <div class="text-center mt-8">
          <button onclick="startGame('consonants')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
            ğŸ® à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š! ğŸ†
          </button>
        </div>
      </div>
    </div>

    <!-- Other sections will follow the same pattern -->
    <div id="vowels-section" class="section-content hidden"></div>
    <div id="numbers-section" class="section-content hidden"></div>
    <div id="tones-section" class="section-content hidden"></div>
    <div id="thai-vocab-section" class="section-content hidden"></div>
    <div id="english-alphabet-section" class="section-content hidden"></div>
    <div id="english-vocab-section" class="section-content hidden"></div>
  </main>

  <!-- Game Modal -->
  <div id="game-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
    <div class="bg-gradient-to-br from-purple-100 to-pink-100 rounded-3xl p-8 shadow-2xl border-4 border-purple-300 max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
      <div class="text-center mb-6">
        <h2 id="game-title" class="text-5xl font-bold text-purple-600 mb-4 animate-bounce">ğŸ® à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š ğŸ†</h2>
        <div class="flex justify-center items-center gap-8 mb-4">
          <div class="bg-white rounded-2xl p-4 shadow-lg">
            <div class="text-2xl font-bold text-green-600">à¸„à¸°à¹à¸™à¸™: <span id="game-score">0</span></div>
          </div>
          <div class="bg-white rounded-2xl p-4 shadow-lg">
            <div class="text-2xl font-bold text-blue-600">à¸‚à¹‰à¸­à¸—à¸µà¹ˆ: <span id="question-number">1</span>/10</div>
          </div>
          <div class="bg-white rounded-2xl p-4 shadow-lg">
            <div class="text-2xl font-bold text-red-600">à¹€à¸§à¸¥à¸²: <span id="timer">30</span>s</div>
          </div>
        </div>
      </div>

      <div id="game-content" class="text-center"></div>

      <div class="flex justify-center gap-4 mt-6">
        <button onclick="closeGame()" class="bg-gradient-to-r from-gray-400 to-gray-500 text-white font-bold py-3 px-6 rounded-full hover:from-gray-500 hover:to-gray-600 transition-all transform hover:scale-105">
          âŒ à¸›à¸´à¸”à¹€à¸à¸¡
        </button>
      </div>
    </div>
  </div>

  <!-- Leaderboard Modal -->
  <div id="leaderboard-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
    <div class="bg-gradient-to-br from-yellow-100 to-orange-100 rounded-3xl p-8 shadow-2xl border-4 border-yellow-300 max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
      <h2 class="text-5xl font-bold text-yellow-600 mb-8 text-center animate-bounce">ğŸ† à¸­à¸±à¸™à¸”à¸±à¸šà¸„à¸°à¹à¸™à¸™ ğŸ‘‘</h2>

      <div id="leaderboard-content" class="space-y-4"></div>

      <div class="text-center mt-8">
        <button onclick="closeLeaderboard()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 px-6 rounded-full hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-105">
          âœ¨ à¸›à¸´à¸”
        </button>
      </div>
    </div>
  </div>

  <script>
    /* ===== Base Configuration ===== */
    const IMG_BASE = "https://playtolearn-th.github.io/games/canva_ai/imgs";
    const SOUND_BASE = "https://playtolearn-th.github.io/games/canva_ai/sounds";
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxJgSMNP1jLacXCtNysivFj6CK_kHEmjL8ZUxKMqEQx-Vjj3fst_ahtYDhgmeQmc9tI/exec";

    /* ===== Player State (no login) ===== */
    let currentPlayer = {
      name: 'à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™',
      team: 'ğŸ§© à¸—à¸±à¹ˆà¸§à¹„à¸›',
      score: 0
    };

    let gameState = {
      currentSection: 'consonants',
      currentIndex: 0,
      isGridView: false,
      gameActive: false,
      gameScore: 0,
      questionNumber: 1,
      timeLeft: 30,
      gameTimer: null
    };

    /* ===== Data Arrays ===== */
  const thaiConsonants = [
  { ch: 'à¸', name: 'à¸à¸­ à¹„à¸à¹ˆ', img: 'à¸.png', sound: 'à¸.mp3' },
  { ch: 'à¸‚', name: 'à¸‚à¸­ à¹„à¸‚à¹ˆ', img: 'à¸‚.png', sound: 'à¸‚.mp3' },
  { ch: 'à¸ƒ', name: 'à¸ƒà¸­ à¸‚à¸§à¸”', img: 'à¸ƒ.png', sound: 'à¸ƒ.mp3' },
  { ch: 'à¸„', name: 'à¸„à¸­ à¸„à¸§à¸²à¸¢', img: 'à¸„.png', sound: 'à¸„.mp3' },
  { ch: 'à¸…', name: 'à¸…à¸­ à¸„à¸™', img: 'à¸….png', sound: 'à¸….mp3' },
  { ch: 'à¸†', name: 'à¸†à¸­ à¸£à¸°à¸†à¸±à¸‡', img: 'à¸†.png', sound: 'à¸†.mp3' },
  { ch: 'à¸‡', name: 'à¸‡à¸­ à¸‡à¸¹', img: 'à¸‡.png', sound: 'à¸‡.mp3' },
  { ch: 'à¸ˆ', name: 'à¸ˆà¸­ à¸ˆà¸²à¸™', img: 'à¸ˆ.png', sound: 'à¸ˆ.mp3' },
  { ch: 'à¸‰', name: 'à¸‰à¸­ à¸‰à¸´à¹ˆà¸‡', img: 'à¸‰.png', sound: 'à¸‰.mp3' },
  { ch: 'à¸Š', name: 'à¸Šà¸­ à¸Šà¹‰à¸²à¸‡', img: 'à¸Š.png', sound: 'à¸Š.mp3' },
  { ch: 'à¸‹', name: 'à¸‹à¸­ à¹‚à¸‹à¹ˆ', img: 'à¸‹.png', sound: 'à¸‹.mp3' },
  { ch: 'à¸Œ', name: 'à¸Œà¸­ à¹€à¸Œà¸­', img: 'à¸Œ.png', sound: 'à¸Œ.mp3' },
  { ch: 'à¸', name: 'à¸à¸­ à¸«à¸à¸´à¸‡', img: 'à¸.png', sound: 'à¸.mp3' },
  { ch: 'à¸', name: 'à¸à¸­ à¸Šà¸à¸²', img: 'à¸.png', sound: 'à¸.mp3' },
  { ch: 'à¸', name: 'à¸à¸­ à¸›à¸à¸±à¸', img: 'à¸.png', sound: 'à¸.mp3' },
  { ch: 'à¸', name: 'à¸à¸­ à¸à¸²à¸™', img: 'à¸.png', sound: 'à¸.mp3' },
  { ch: 'à¸‘', name: 'à¸‘à¸­ à¸¡à¸“à¹‚à¸‘', img: 'à¸‘.png', sound: 'à¸‘.mp3' },
  { ch: 'à¸’', name: 'à¸’à¸­ à¸œà¸¹à¹‰à¹€à¸’à¹ˆà¸²', img: 'à¸’.png', sound: 'à¸’.mp3' },
  { ch: 'à¸“', name: 'à¸“à¸­ à¹€à¸“à¸£', img: 'à¸“.png', sound: 'à¸“.mp3' },
  { ch: 'à¸”', name: 'à¸”à¸­ à¹€à¸”à¹‡à¸', img: 'à¸”.png', sound: 'à¸”.mp3' },
  { ch: 'à¸•', name: 'à¸•à¸­ à¹€à¸•à¹ˆà¸²', img: 'à¸•.png', sound: 'à¸•.mp3' },
  { ch: 'à¸–', name: 'à¸–à¸­ à¸–à¸¸à¸‡', img: 'à¸–.png', sound: 'à¸–.mp3' },
  { ch: 'à¸—', name: 'à¸—à¸­ à¸—à¸«à¸²à¸£', img: 'à¸—.png', sound: 'à¸—.mp3' },
  { ch: 'à¸˜', name: 'à¸˜à¸­ à¸˜à¸‡', img: 'à¸˜.png', sound: 'à¸˜.mp3' },
  { ch: 'à¸™', name: 'à¸™à¸­ à¸«à¸™à¸¹', img: 'à¸™.png', sound: 'à¸™.mp3' },
  { ch: 'à¸š', name: 'à¸šà¸­ à¹ƒà¸šà¹„à¸¡à¹‰', img: 'à¸š.png', sound: 'à¸š.mp3' },
  { ch: 'à¸›', name: 'à¸›à¸­ à¸›à¸¥à¸²', img: 'à¸›.png', sound: 'à¸›.mp3' },
  { ch: 'à¸œ', name: 'à¸œà¸­ à¸œà¸¶à¹‰à¸‡', img: 'à¸œ.png', sound: 'à¸œ.mp3' },
  { ch: 'à¸', name: 'à¸à¸­ à¸à¸²', img: 'à¸.png', sound: 'à¸.mp3' },
  { ch: 'à¸', name: 'à¸à¸­ à¸à¸²à¸™', img: 'à¸.png', sound: 'à¸.mp3' },
  { ch: 'à¸Ÿ', name: 'à¸Ÿà¸­ à¸Ÿà¸±à¸™', img: 'à¸Ÿ.png', sound: 'à¸Ÿ.mp3' },
  { ch: 'à¸ ', name: 'à¸ à¸­ à¸ªà¸³à¹€à¸ à¸²', img: 'à¸ .png', sound: 'à¸ .mp3' },
  { ch: 'à¸¡', name: 'à¸¡à¸­ à¸¡à¹‰à¸²', img: 'à¸¡.png', sound: 'à¸¡.mp3' },
  { ch: 'à¸¢', name: 'à¸¢à¸­ à¸¢à¸±à¸à¸©à¹Œ', img: 'à¸¢.png', sound: 'à¸¢.mp3' },
  { ch: 'à¸£', name: 'à¸£à¸­ à¹€à¸£à¸·à¸­', img: 'à¸£.png', sound: 'à¸£.mp3' },
  { ch: 'à¸¥', name: 'à¸¥à¸­ à¸¥à¸´à¸‡', img: 'à¸¥.png', sound: 'à¸¥.mp3' },
  { ch: 'à¸§', name: 'à¸§à¸­ à¹à¸«à¸§à¸™', img: 'à¸§.png', sound: 'à¸§.mp3' },
  { ch: 'à¸¨', name: 'à¸¨à¸­ à¸¨à¸²à¸¥à¸²', img: 'à¸¨.png', sound: 'à¸¨.mp3' },
  { ch: 'à¸©', name: 'à¸©à¸­ à¸¤à¹…à¸©à¸µ', img: 'à¸©.png', sound: 'à¸©.mp3' },
  { ch: 'à¸ª', name: 'à¸ªà¸­ à¹€à¸ªà¸·à¸­', img: 'à¸ª.png', sound: 'à¸ª.mp3' },
  { ch: 'à¸«', name: 'à¸«à¸­ à¸«à¸µà¸š', img: 'à¸«.png', sound: 'à¸«.mp3' },
  { ch: 'à¸¬', name: 'à¸¬à¸­ à¸ˆà¸¸à¸¬à¸²', img: 'à¸¬.png', sound: 'à¸¬.mp3' },
  { ch: 'à¸­', name: 'à¸­à¸­ à¸­à¹ˆà¸²à¸‡', img: 'à¸­.png', sound: 'à¸­.mp3' },
  { ch: 'à¸®', name: 'à¸®à¸­ à¸™à¸à¸®à¸¹à¸', img: 'à¸®.png', sound: 'à¸®.mp3' }
];

const thaiVowels = [ { ch: 'à¸­à¸°', name: 'à¸ªà¸£à¸°à¸­à¸°', emoji: '-à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸°.mp3' }, { ch: 'à¸­à¸²', name: 'à¸ªà¸£à¸°à¸­à¸²', emoji: '-à¸²', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸².mp3' }, { ch: 'à¸­à¸´', name: 'à¸ªà¸£à¸°à¸­à¸´', emoji: '-à¸´', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸´.mp3' }, { ch: 'à¸­à¸µ', name: 'à¸ªà¸£à¸°à¸­à¸µ', emoji: '-à¸µ', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸µ.mp3' }, { ch: 'à¸­à¸¶', name: 'à¸ªà¸£à¸°à¸­à¸¶', emoji: '-à¸¶', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸¶.mp3' }, { ch: 'à¸­à¸·à¸­', name: 'à¸ªà¸£à¸°à¸­à¸·à¸­', emoji: '-à¸·', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸·à¸­.mp3' }, { ch: 'à¸­à¸¸', name: 'à¸ªà¸£à¸°à¸­à¸¸', emoji: '-à¸¸', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸¸.mp3' }, { ch: 'à¸­à¸¹', name: 'à¸ªà¸£à¸°à¸­à¸¹', emoji: '-à¸¹', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸¹.mp3' }, { ch: 'à¹€à¸­à¸°', name: 'à¸ªà¸£à¸°à¹€à¸­à¸°', emoji: 'à¹€-à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸°.mp3' }, { ch: 'à¹€à¸­', name: 'à¸ªà¸£à¸°à¹€à¸­', emoji: 'à¹€-', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­.mp3' }, { ch: 'à¹à¸­à¸°', name: 'à¸ªà¸£à¸°à¹à¸­à¸°', emoji: 'à¹-à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹à¸­à¸°.mp3' }, { ch: 'à¹à¸­', name: 'à¸ªà¸£à¸°à¹à¸­', emoji: 'à¹-', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹à¸­.mp3' }, { ch: 'à¹‚à¸­à¸°', name: 'à¸ªà¸£à¸°à¹‚à¸­à¸°', emoji: 'à¹‚-à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹‚à¸­à¸°.mp3' }, { ch: 'à¹‚à¸­', name: 'à¸ªà¸£à¸°à¹‚à¸­', emoji: 'à¹‚-', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹‚à¸­.mp3' }, { ch: 'à¹€à¸­à¸²à¸°', name: 'à¸ªà¸£à¸°à¹€à¸­à¸²à¸°', emoji: 'à¹€-à¸²à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸²à¸°.mp3' }, { ch: 'à¸­à¸­', name: 'à¸ªà¸£à¸°à¸­à¸­', emoji: '-à¸­', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸­.mp3' }, { ch: 'à¹€à¸­à¸­à¸°', name: 'à¸ªà¸£à¸°à¹€à¸­à¸­à¸°', emoji: 'à¹€-à¸­à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸­à¸°.mp3' }, { ch: 'à¹€à¸­à¸­', name: 'à¸ªà¸£à¸°à¹€à¸­à¸­', emoji: 'à¹€-à¸­', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸­.mp3' }, { ch: 'à¹€à¸­à¸µà¸¢à¸°', name: 'à¸ªà¸£à¸°à¹€à¸­à¸µà¸¢à¸°', emoji: 'à¹€-à¸µà¸¢à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸µà¸¢à¸°.mp3' }, { ch: 'à¹€à¸­à¸µà¸¢', name: 'à¸ªà¸£à¸°à¹€à¸­à¸µà¸¢', emoji: 'à¹€-à¸µà¸¢', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸µà¸¢.mp3' }, { ch: 'à¹€à¸­à¸·à¸­à¸°', name: 'à¸ªà¸£à¸°à¹€à¸­à¸·à¸­à¸°', emoji: 'à¹€-à¸·à¸­à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸·à¸­à¸°.mp3' }, { ch: 'à¹€à¸­à¸·à¸­', name: 'à¸ªà¸£à¸°à¹€à¸­à¸·à¸­', emoji: 'à¹€-à¸·à¸­', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸·à¸­.mp3' }, { ch: 'à¸­à¸±à¸§à¸°', name: 'à¸ªà¸£à¸°à¸­à¸±à¸§à¸°', emoji: '-à¸±à¸§à¸°', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸±à¸§à¸°.mp3' }, { ch: 'à¸­à¸±à¸§', name: 'à¸ªà¸£à¸°à¸­à¸±à¸§', emoji: '-à¸±à¸§', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸±à¸§.mp3' }, { ch: 'à¸­à¸³', name: 'à¸ªà¸£à¸°à¸­à¸³', emoji: '-à¸³', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¸­à¸³.mp3' }, { ch: 'à¹ƒà¸­', name: 'à¸ªà¸£à¸°à¹ƒà¸­ (à¹„à¸¡à¹‰à¸¡à¹‰à¸§à¸™)', emoji: 'à¹ƒ-', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹ƒà¸­ (à¹„à¸¡à¹‰à¸¡à¹‰à¸§à¸™).mp3' }, { ch: 'à¹„à¸­', name: 'à¸ªà¸£à¸°à¹„à¸­ (à¹„à¸¡à¹‰à¸¡à¸¥à¸²à¸¢)', emoji: 'à¹„-', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹„à¸­ (à¹„à¸¡à¹‰à¸¡à¸¥à¸²à¸¢).mp3' }, { ch: 'à¹€à¸­à¸²', name: 'à¸ªà¸£à¸°à¹€à¸­à¸²', emoji: 'à¹€-à¸²', sound: 'à¸ªà¸°-à¸«à¸£à¸°-à¹€à¸­à¸².mp3' }, { ch: 'à¸¤', name: 'à¸¤', emoji: 'à¸¤', sound: 'à¸¤.mp3' }, { ch: 'à¸¤à¹…', name: 'à¸¤à¹…', emoji: 'à¸¤à¹…', sound: 'à¸¤à¹….mp3' }, { ch: 'à¸¦', name: 'à¸¦', emoji: 'à¸¦', sound: 'à¸¦.mp3' }, { ch: 'à¸¦à¹…', name: 'à¸¦à¹…', emoji: 'à¸¦à¹…', sound: 'à¸¦à¹….mp3' } ];

    const thaiNumbers = [
      { ch: 'à¹', name: 'à¸¨à¸¹à¸™à¸¢à¹Œ', emoji: '', arabic: '0' },
      { ch: 'à¹‘', name: 'à¸«à¸™à¸¶à¹ˆà¸‡', emoji: 'ğŸ£', arabic: '1' },
      { ch: 'à¹’', name: 'à¸ªà¸­à¸‡', emoji: 'ğŸ¦¢ğŸ¦¢', arabic: '2' },
      { ch: 'à¹“', name: 'à¸ªà¸²à¸¡', emoji: 'ğŸ»ğŸ»ğŸ»', arabic: '3' },
      { ch: 'à¹”', name: 'à¸ªà¸µà¹ˆ', emoji: 'ğŸ€', arabic: '4' },
      { ch: 'à¹•', name: 'à¸«à¹‰à¸²', emoji: 'â­â­â­â­â­', arabic: '5' },
      { ch: 'à¹–', name: 'à¸«à¸', emoji: 'ğŸğŸğŸğŸğŸğŸ', arabic: '6' },
      { ch: 'à¹—', name: 'à¹€à¸ˆà¹‡à¸”', emoji: 'ğŸŒˆ', arabic: '7' },
      { ch: 'à¹˜', name: 'à¹à¸›à¸”', emoji: 'ğŸ™', arabic: '8' },
      { ch: 'à¹™', name: 'à¹€à¸à¹‰à¸²', emoji: 'ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸', arabic: '9' },
      { ch: 'à¹‘à¹', name: 'à¸ªà¸´à¸š', emoji: 'â­â­â­â­â­â­â­â­â­â­', arabic: '10' }
    ];

    const thaiToneMarks = [
      { emoji: 'ğŸ“‰', ch: 'à¹ˆ', name: 'à¹„à¸¡à¹‰à¹€à¸­à¸', desc: '' },
      { emoji: 'ğŸ“ˆ', ch: 'à¹‰', name: 'à¹„à¸¡à¹‰à¹‚à¸—', desc: '' },
      { emoji: 'â¬†ï¸', ch: 'à¹Š', name: 'à¹„à¸¡à¹‰à¸•à¸£à¸µ', desc: '' },
      { emoji: 'ğŸµ', ch: 'à¹‹', name: 'à¹„à¸¡à¹‰à¸ˆà¸±à¸•à¸§à¸²', desc: '' }
    ];

    const thaiVocabulary = {
      animals: [
        { word: 'à¹à¸¡à¸§', reading: 'à¹à¸¡à¸§', meaning: 'à¸ªà¸±à¸•à¸§à¹Œà¹€à¸¥à¸µà¹‰à¸¢à¸‡à¸—à¸µà¹ˆà¸Šà¸­à¸šà¸ˆà¸±à¸šà¸«à¸™à¸¹', emoji: 'ğŸ±', img: 'cat_thai.png' },
        { word: 'à¸«à¸¡à¸²', reading: 'à¸«à¸¡à¸²', meaning: 'à¸ªà¸±à¸•à¸§à¹Œà¹€à¸¥à¸µà¹‰à¸¢à¸‡à¸—à¸µà¹ˆà¸‹à¸·à¹ˆà¸­à¸ªà¸±à¸•à¸¢à¹Œ', emoji: 'ğŸ¶', img: 'dog_thai.png' },
        { word: 'à¸Šà¹‰à¸²à¸‡', reading: 'à¸Šà¹‰à¸²à¸‡', meaning: 'à¸ªà¸±à¸•à¸§à¹Œà¹ƒà¸«à¸à¹ˆà¸—à¸µà¹ˆà¸¡à¸µà¸‡à¸§à¸‡', emoji: 'ğŸ˜', img: 'elephant_thai.png' },
        { word: 'à¹€à¸ªà¸·à¸­', reading: 'à¹€à¸ªà¸·à¸­', meaning: 'à¸ªà¸±à¸•à¸§à¹Œà¸›à¹ˆà¸²à¸—à¸µà¹ˆà¸¡à¸µà¸¥à¸²à¸¢à¸”à¸³', emoji: 'ğŸ…', img: 'tiger_thai.png' },
        { word: 'à¸¥à¸´à¸‡', reading: 'à¸¥à¸´à¸‡', meaning: 'à¸ªà¸±à¸•à¸§à¹Œà¸—à¸µà¹ˆà¸Šà¸­à¸šà¸à¸´à¸™à¸à¸¥à¹‰à¸§à¸¢', emoji: 'ğŸµ', img: 'monkey_thai.png' },
        { word: 'à¸™à¸', reading: 'à¸™à¸', meaning: 'à¸ªà¸±à¸•à¸§à¹Œà¸—à¸µà¹ˆà¸šà¸´à¸™à¹„à¸”à¹‰', emoji: 'ğŸ¦', img: 'bird_thai.png' },
        { word: 'à¸›à¸¥à¸²', reading: 'à¸›à¸¥à¸²', meaning: 'à¸ªà¸±à¸•à¸§à¹Œà¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸™à¹‰à¸³', emoji: 'ğŸŸ', img: 'fish_thai.png' },
        { word: 'à¸à¸š', reading: 'à¸à¸š', meaning: 'à¸ªà¸±à¸•à¸§à¹Œà¸—à¸µà¹ˆà¸à¸£à¸°à¹‚à¸”à¸”à¹„à¸”à¹‰', emoji: 'ğŸ¸', img: 'frog_thai.png' }
      ],
      fruits: [
        { word: 'à¸à¸¥à¹‰à¸§à¸¢', reading: 'à¸à¸¥à¹‰à¸§à¸¢', meaning: 'à¸œà¸¥à¹„à¸¡à¹‰à¸ªà¸µà¹€à¸«à¸¥à¸·à¸­à¸‡', emoji: 'ğŸŒ', img: 'banana_thai.png' },
        { word: 'à¸ªà¹‰à¸¡', reading: 'à¸ªà¹‰à¸¡', meaning: 'à¸œà¸¥à¹„à¸¡à¹‰à¸£à¸ªà¹€à¸›à¸£à¸µà¹‰à¸¢à¸§', emoji: 'ğŸŠ', img: 'orange_thai.png' },
        { word: 'à¹à¸­à¸›à¹€à¸›à¸´à¹‰à¸¥', reading: 'à¹à¸­à¸›-à¹€à¸›à¸´à¹‰à¸¥', meaning: 'à¸œà¸¥à¹„à¸¡à¹‰à¸ªà¸µà¹à¸”à¸‡', emoji: 'ğŸ', img: 'apple_thai.png' },
        { word: 'à¸¡à¸°à¸¡à¹ˆà¸§à¸‡', reading: 'à¸¡à¸°-à¸¡à¹ˆà¸§à¸‡', meaning: 'à¸œà¸¥à¹„à¸¡à¹‰à¸«à¸§à¸²à¸™à¹†', emoji: 'ğŸ¥­', img: 'mango_thai.png' },
        { word: 'à¹à¸•à¸‡à¹‚à¸¡', reading: 'à¹à¸•à¸‡-à¹‚à¸¡', meaning: 'à¸œà¸¥à¹„à¸¡à¹‰à¹ƒà¸«à¸à¹ˆà¸ªà¸µà¹€à¸‚à¸µà¸¢à¸§', emoji: 'ğŸ‰', img: 'watermelon_thai.png' },
        { word: 'à¸­à¸‡à¸¸à¹ˆà¸™', reading: 'à¸­-à¸‡à¸¸à¹ˆà¸™', meaning: 'à¸œà¸¥à¹„à¸¡à¹‰à¹€à¸›à¹‡à¸™à¸à¸§à¸‡', emoji: 'ğŸ‡', img: 'grape_thai.png' },
        { word: 'à¸ªà¸±à¸šà¸›à¸°à¸£à¸”', reading: 'à¸ªà¸±à¸š-à¸›à¸°-à¸£à¸”', meaning: 'à¸œà¸¥à¹„à¸¡à¹‰à¸¡à¸µà¸«à¸™à¸²à¸¡', emoji: 'ğŸ', img: 'pineapple_thai.png' },
        { word: 'à¸¡à¸°à¸à¸£à¹‰à¸²à¸§', reading: 'à¸¡à¸°-à¸à¸£à¹‰à¸²à¸§', meaning: 'à¸œà¸¥à¹„à¸¡à¹‰à¸¡à¸µà¸™à¹‰à¸³à¸«à¸§à¸²à¸™', emoji: 'ğŸ¥¥', img: 'coconut_thai.png' }
      ],
      colors: [
        { word: 'à¹à¸”à¸‡', reading: 'à¹à¸”à¸‡', meaning: 'à¸ªà¸µà¸‚à¸­à¸‡à¹€à¸¥à¸·à¸­à¸”', emoji: 'ğŸ”´', img: 'red_thai.png' },
        { word: 'à¹€à¸‚à¸µà¸¢à¸§', reading: 'à¹€à¸‚à¸µà¸¢à¸§', meaning: 'à¸ªà¸µà¸‚à¸­à¸‡à¹ƒà¸šà¹„à¸¡à¹‰', emoji: 'ğŸŸ¢', img: 'green_thai.png' },
        { word: 'à¸™à¹‰à¸³à¹€à¸‡à¸´à¸™', reading: 'à¸™à¹‰à¸³-à¹€à¸‡à¸´à¸™', meaning: 'à¸ªà¸µà¸‚à¸­à¸‡à¸—à¹‰à¸­à¸‡à¸Ÿà¹‰à¸²', emoji: 'ğŸ”µ', img: 'blue_thai.png' },
        { word: 'à¹€à¸«à¸¥à¸·à¸­à¸‡', reading: 'à¹€à¸«à¸¥à¸·à¸­à¸‡', meaning: 'à¸ªà¸µà¸‚à¸­à¸‡à¸”à¸§à¸‡à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ', emoji: 'ğŸŸ¡', img: 'yellow_thai.png' },
        { word: 'à¸ªà¹‰à¸¡', reading: 'à¸ªà¹‰à¸¡', meaning: 'à¸ªà¸µà¸‚à¸­à¸‡à¸œà¸¥à¸ªà¹‰à¸¡', emoji: 'ğŸŸ ', img: 'orange_color_thai.png' },
        { word: 'à¸¡à¹ˆà¸§à¸‡', reading: 'à¸¡à¹ˆà¸§à¸‡', meaning: 'à¸ªà¸µà¸‚à¸­à¸‡à¸¡à¸°à¹€à¸‚à¸·à¸­', emoji: 'ğŸŸ£', img: 'purple_thai.png' },
        { word: 'à¸Šà¸¡à¸à¸¹', reading: 'à¸Šà¸¡-à¸à¸¹', meaning: 'à¸ªà¸µà¸‚à¸­à¸‡à¸”à¸­à¸à¹„à¸¡à¹‰', emoji: 'ğŸ©·', img: 'pink_thai.png' },
        { word: 'à¸”à¸³', reading: 'à¸”à¸³', meaning: 'à¸ªà¸µà¸‚à¸­à¸‡à¸„à¸·à¸™', emoji: 'âš«', img: 'black_thai.png' }
      ],
      body: [
        { word: 'à¸«à¸±à¸§', reading: 'à¸«à¸±à¸§', meaning: 'à¸ªà¹ˆà¸§à¸™à¸šà¸™à¸‚à¸­à¸‡à¸£à¹ˆà¸²à¸‡à¸à¸²à¸¢', emoji: 'ğŸ‘¤', img: 'head_thai.png' },
        { word: 'à¸•à¸²', reading: 'à¸•à¸²', meaning: 'à¸­à¸§à¸±à¸¢à¸§à¸°à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸¡à¸­à¸‡', emoji: 'ğŸ‘ï¸', img: 'eye_thai.png' },
        { word: 'à¸ˆà¸¡à¸¹à¸', reading: 'à¸ˆ-à¸¡à¸¹à¸', meaning: 'à¸­à¸§à¸±à¸¢à¸§à¸°à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸«à¸²à¸¢à¹ƒà¸ˆ', emoji: 'ğŸ‘ƒ', img: 'nose_thai.png' },
        { word: 'à¸›à¸²à¸', reading: 'à¸›à¸²à¸', meaning: 'à¸­à¸§à¸±à¸¢à¸§à¸°à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸à¸´à¸™', emoji: 'ğŸ‘„', img: 'mouth_thai.png' },
        { word: 'à¸«à¸¹', reading: 'à¸«à¸¹', meaning: 'à¸­à¸§à¸±à¸¢à¸§à¸°à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸Ÿà¸±à¸‡', emoji: 'ğŸ‘‚', img: 'ear_thai.png' },
        { word: 'à¸¡à¸·à¸­', reading: 'à¸¡à¸·à¸­', meaning: 'à¸­à¸§à¸±à¸¢à¸§à¸°à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸ˆà¸±à¸š', emoji: 'âœ‹', img: 'hand_thai.png' },
        { word: 'à¹€à¸—à¹‰à¸²', reading: 'à¹€à¸—à¹‰à¸²', meaning: 'à¸­à¸§à¸±à¸¢à¸§à¸°à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹€à¸”à¸´à¸™', emoji: 'ğŸ¦¶', img: 'foot_thai.png' },
        { word: 'à¸Ÿà¸±à¸™', reading: 'à¸Ÿà¸±à¸™', meaning: 'à¸­à¸§à¸±à¸¢à¸§à¸°à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹€à¸„à¸µà¹‰à¸¢à¸§', emoji: 'ğŸ¦·', img: 'tooth_thai.png' }
      ],
      food: [
        { word: 'à¸‚à¹‰à¸²à¸§', reading: 'à¸‚à¹‰à¸²à¸§', meaning: 'à¸­à¸²à¸«à¸²à¸£à¸«à¸¥à¸±à¸à¸‚à¸­à¸‡à¸„à¸™à¹„à¸—à¸¢', emoji: 'ğŸš', img: 'rice_thai.png' },
        { word: 'à¸™à¹‰à¸³', reading: 'à¸™à¹‰à¸³', meaning: 'à¸‚à¸­à¸‡à¹€à¸«à¸¥à¸§à¹ƒà¸ª', emoji: 'ğŸ’§', img: 'water_thai.png' },
        { word: 'à¸™à¸¡', reading: 'à¸™à¸¡', meaning: 'à¸‚à¸­à¸‡à¹€à¸«à¸¥à¸§à¸ªà¸µà¸‚à¸²à¸§', emoji: 'ğŸ¥›', img: 'milk_thai.png' },
        { word: 'à¸‚à¸™à¸¡à¸›à¸±à¸‡', reading: 'à¸‚à¸™à¸¡-à¸›à¸±à¸‡', meaning: 'à¸­à¸²à¸«à¸²à¸£à¸—à¸³à¸ˆà¸²à¸à¹à¸›à¹‰à¸‡', emoji: 'ğŸ', img: 'bread_thai.png' },
        { word: 'à¹„à¸‚à¹ˆ', reading: 'à¹„à¸‚à¹ˆ', meaning: 'à¸­à¸²à¸«à¸²à¸£à¸ˆà¸²à¸à¹„à¸à¹ˆ', emoji: 'ğŸ¥š', img: 'egg_thai.png' },
        { word: 'à¸œà¸±à¸', reading: 'à¸œà¸±à¸', meaning: 'à¸­à¸²à¸«à¸²à¸£à¸ªà¸µà¹€à¸‚à¸µà¸¢à¸§', emoji: 'ğŸ¥¬', img: 'vegetable_thai.png' },
        { word: 'à¹€à¸™à¸·à¹‰à¸­', reading: 'à¹€à¸™à¸·à¹‰à¸­', meaning: 'à¸­à¸²à¸«à¸²à¸£à¸ˆà¸²à¸à¸ªà¸±à¸•à¸§à¹Œ', emoji: 'ğŸ¥©', img: 'meat_thai.png' },
        { word: 'à¸œà¸¥à¹„à¸¡à¹‰', reading: 'à¸œà¸¥-à¹„à¸¡à¹‰', meaning: 'à¸­à¸²à¸«à¸²à¸£à¸«à¸§à¸²à¸™à¸ˆà¸²à¸à¸•à¹‰à¸™à¹„à¸¡à¹‰', emoji: 'ğŸ', img: 'fruit_thai.png' }
      ]
    };

    const englishAlphabet = [
      { ch: 'A', name: 'à¹€à¸­', word: 'Apple', emoji: 'ğŸ' },
      { ch: 'B', name: 'à¸šà¸µ', word: 'Ball', emoji: 'âš½' },
      { ch: 'C', name: 'à¸‹à¸µ', word: 'Cat', emoji: 'ğŸ±' },
      { ch: 'D', name: 'à¸”à¸µ', word: 'Dog', emoji: 'ğŸ¶' },
      { ch: 'E', name: 'à¸­à¸µ', word: 'Elephant', emoji: 'ğŸ˜' },
      { ch: 'F', name: 'à¹€à¸­à¸Ÿ', word: 'Fish', emoji: 'ğŸŸ' },
      { ch: 'G', name: 'à¸ˆà¸µ', word: 'Giraffe', emoji: 'ğŸ¦’' },
      { ch: 'H', name: 'à¹€à¸­à¸Š', word: 'House', emoji: 'ğŸ ' },
      { ch: 'I', name: 'à¹„à¸­', word: 'Ice cream', emoji: 'ğŸ¦' },
      { ch: 'J', name: 'à¹€à¸ˆ', word: 'Juice', emoji: 'ğŸ§ƒ' },
      { ch: 'K', name: 'à¹€à¸„', word: 'Kite', emoji: 'ğŸª' },
      { ch: 'L', name: 'à¹€à¸­à¸¥', word: 'Lion', emoji: 'ğŸ¦' },
      { ch: 'M', name: 'à¹€à¸­à¸¡', word: 'Monkey', emoji: 'ğŸµ' },
      { ch: 'N', name: 'à¹€à¸­à¸™', word: 'Nose', emoji: 'ğŸ‘ƒ' },
      { ch: 'O', name: 'à¹‚à¸­', word: 'Orange', emoji: 'ğŸŠ' },
      { ch: 'P', name: 'à¸à¸µ', word: 'Pig', emoji: 'ğŸ·' },
      { ch: 'Q', name: 'à¸„à¸´à¸§', word: 'Queen', emoji: 'ğŸ‘¸' },
      { ch: 'R', name: 'à¸­à¸²à¸£à¹Œ', word: 'Rabbit', emoji: 'ğŸ°' },
      { ch: 'S', name: 'à¹€à¸­à¸ª', word: 'Sun', emoji: 'â˜€ï¸' },
      { ch: 'T', name: 'à¸—à¸µ', word: 'Tiger', emoji: 'ğŸ…' },
      { ch: 'U', name: 'à¸¢à¸¹', word: 'Umbrella', emoji: 'â˜‚ï¸' },
      { ch: 'V', name: 'à¸§à¸µ', word: 'Van', emoji: 'ğŸš' },
      { ch: 'W', name: 'à¸”à¸±à¸šà¹€à¸šà¸´à¸¥à¸¢à¸¹', word: 'Water', emoji: 'ğŸ’§' },
      { ch: 'X', name: 'à¹€à¸­à¹‡à¸à¸‹à¹Œ', word: 'X-ray', emoji: 'ğŸ©»' },
      { ch: 'Y', name: 'à¸§à¸²à¸¢', word: 'Yellow', emoji: 'ğŸŸ¡' },
      { ch: 'Z', name: 'à¹à¸‹à¸”', word: 'Zebra', emoji: 'ğŸ¦“' }
    ];

    const englishVocabulary = {
      animals: [
        { en: 'Cat', th: 'à¹à¸¡à¸§', emoji: 'ğŸ±', img: 'cat.png' },
        { en: 'Dog', th: 'à¸«à¸¡à¸²', emoji: 'ğŸ¶', img: 'dog.png' },
        { en: 'Bird', th: 'à¸™à¸', emoji: 'ğŸ¦', img: 'bird.png' },
        { en: 'Fish', th: 'à¸›à¸¥à¸²', emoji: 'ğŸŸ', img: 'fish.png' },
        { en: 'Elephant', th: 'à¸Šà¹‰à¸²à¸‡', emoji: 'ğŸ˜', img: 'elephant.png' },
        { en: 'Lion', th: 'à¸ªà¸´à¸‡à¹‚à¸•', emoji: 'ğŸ¦', img: 'lion.png' },
        { en: 'Tiger', th: 'à¹€à¸ªà¸·à¸­', emoji: 'ğŸ…', img: 'tiger.png' },
        { en: 'Monkey', th: 'à¸¥à¸´à¸‡', emoji: 'ğŸµ', img: 'monkey.png' },
        { en: 'Rabbit', th: 'à¸à¸£à¸°à¸•à¹ˆà¸²à¸¢', emoji: 'ğŸ°', img: 'rabbit.png' },
        { en: 'Bear', th: 'à¸«à¸¡à¸µ', emoji: 'ğŸ»', img: 'bear.png' },
        { en: 'Cow', th: 'à¸§à¸±à¸§', emoji: 'ğŸ„', img: 'cow.png' },
        { en: 'Pig', th: 'à¸«à¸¡à¸¹', emoji: 'ğŸ·', img: 'pig.png' }
      ],
      fruits: [
        { en: 'Apple', th: 'à¹à¸­à¸›à¹€à¸›à¸´à¹‰à¸¥', emoji: 'ğŸ', img: 'apple.png' },
        { en: 'Banana', th: 'à¸à¸¥à¹‰à¸§à¸¢', emoji: 'ğŸŒ', img: 'banana.png' },
        { en: 'Orange', th: 'à¸ªà¹‰à¸¡', emoji: 'ğŸŠ', img: 'orange.png' },
        { en: 'Grape', th: 'à¸­à¸‡à¸¸à¹ˆà¸™', emoji: 'ğŸ‡', img: 'grape.png' },
        { en: 'Strawberry', th: 'à¸ªà¸•à¸£à¸­à¹€à¸šà¸­à¸£à¹Œà¸£à¸µà¹ˆ', emoji: 'ğŸ“', img: 'strawberry.png' },
        { en: 'Watermelon', th: 'à¹à¸•à¸‡à¹‚à¸¡', emoji: 'ğŸ‰', img: 'watermelon.png' },
        { en: 'Pineapple', th: 'à¸ªà¸±à¸šà¸›à¸°à¸£à¸”', emoji: 'ğŸ', img: 'pineapple.png' },
        { en: 'Mango', th: 'à¸¡à¸°à¸¡à¹ˆà¸§à¸‡', emoji: 'ğŸ¥­', img: 'mango.png' },
        { en: 'Coconut', th: 'à¸¡à¸°à¸à¸£à¹‰à¸²à¸§', emoji: 'ğŸ¥¥', img: 'coconut.png' },
        { en: 'Peach', th: 'à¸¥à¸¹à¸à¸à¸µà¸Š', emoji: 'ğŸ‘', img: 'peach.png' },
        { en: 'Cherry', th: 'à¹€à¸Šà¸­à¸£à¹Œà¸£à¸µà¹ˆ', emoji: 'ğŸ’', img: 'cherry.png' },
        { en: 'Lemon', th: 'à¸¡à¸°à¸™à¸²à¸§', emoji: 'ğŸ‹', img: 'lemon.png' }
      ],
      colors: [
        { en: 'Red', th: 'à¸ªà¸µà¹à¸”à¸‡', emoji: 'ğŸ”´', img: 'red.png' },
        { en: 'Blue', th: 'à¸ªà¸µà¸™à¹‰à¸³à¹€à¸‡à¸´à¸™', emoji: 'ğŸ”µ', img: 'blue.png' },
        { en: 'Green', th: 'à¸ªà¸µà¹€à¸‚à¸µà¸¢à¸§', emoji: 'ğŸŸ¢', img: 'green.png' },
        { en: 'Yellow', th: 'à¸ªà¸µà¹€à¸«à¸¥à¸·à¸­à¸‡', emoji: 'ğŸŸ¡', img: 'yellow.png' },
        { en: 'Orange', th: 'à¸ªà¸µà¸ªà¹‰à¸¡', emoji: 'ğŸŸ ', img: 'orange_color.png' },
        { en: 'Purple', th: 'à¸ªà¸µà¸¡à¹ˆà¸§à¸‡', emoji: 'ğŸŸ£', img: 'purple.png' },
        { en: 'Pink', th: 'à¸ªà¸µà¸Šà¸¡à¸à¸¹', emoji: 'ğŸ©·', img: 'pink.png' },
        { en: 'Brown', th: 'à¸ªà¸µà¸™à¹‰à¸³à¸•à¸²à¸¥', emoji: 'ğŸ¤', img: 'brown.png' },
        { en: 'Black', th: 'à¸ªà¸µà¸”à¸³', emoji: 'âš«', img: 'black.png' },
        { en: 'White', th: 'à¸ªà¸µà¸‚à¸²à¸§', emoji: 'âšª', img: 'white.png' },
        { en: 'Gray', th: 'à¸ªà¸µà¹€à¸—à¸²', emoji: 'ğŸ©¶', img: 'gray.png' },
        { en: 'Gold', th: 'à¸ªà¸µà¸—à¸­à¸‡', emoji: 'ğŸŸ¨', img: 'gold.png' }
      ]
    };

    /* ===== Initialize Application (auto, no login) ===== */
    function initializeApp() {
      // set initial display name/team
      document.getElementById('current-player').textContent = `${currentPlayer.team} - ${currentPlayer.name}`;
      document.getElementById('current-score').textContent = `à¸„à¸°à¹à¸™à¸™: ${currentPlayer.score}`;
      showSection('consonants');
      createAllSections();
    }
    window.addEventListener('DOMContentLoaded', initializeApp);

    /* ===== Section Management ===== */
    function showSection(sectionName) {
      document.querySelectorAll('.section-content').forEach(section => section.classList.add('hidden'));
      document.getElementById(`${sectionName}-section`).classList.remove('hidden');

      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('animate-pulse-fast'));

      gameState.currentSection = sectionName;
      gameState.currentIndex = 0;
      gameState.isGridView = false;

      initializeSection(sectionName);
    }

    /* ===== Create All Sections ===== */
    function createAllSections() {
      createConsonantsSection();
      createVowelsSection();
      createNumbersSection();
      createTonesSection();
      createThaiVocabSection();
      createEnglishAlphabetSection();
      createEnglishVocabSection();
    }

    /* ===== Create Consonants Section ===== */
    function createConsonantsSection() {
      const section = document.getElementById('consonants-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-yellow-300">
          <h2 class="text-6xl font-bold text-yellow-600 mb-8 text-center drop-shadow-lg animate-wiggle">ğŸ“ à¸à¸¢à¸±à¸à¸Šà¸™à¸°à¹„à¸—à¸¢ ğŸŒŸ</h2>
          <div class="text-center mb-6">
            <button id="toggle-consonants" onclick="toggleView('consonants')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨
            </button>
          </div>
          <div id="consonants-gallery" class="gallery-view">
            ${createGalleryView('consonants', thaiConsonants)}
          </div>
          <div id="consonants-grid" class="grid-view hidden">
            ${createGridView('consonants', thaiConsonants)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('consonants')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              ğŸ® à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š! ğŸ†
            </button>
          </div>
        </div>
      `;
    }

    /* ===== Create Gallery View ===== */
    function createGalleryView(sectionName, dataArray) {
      return `
        <div class="flex justify-between items-center mb-6">
          <button id="prev-${sectionName}" onclick="previousItem('${sectionName}')" class="bg-gradient-to-r from-orange-400 to-red-500 hover:from-orange-500 hover:to-red-600 text-white p-4 rounded-full shadow-xl transition-all transform hover:scale-110">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7"></path>
            </svg>
          </button>

          <div class="text-center bg-white rounded-2xl p-4 shadow-lg border-4 border-pink-300">
            <div class="text-2xl font-bold text-purple-600 mb-2">
              ğŸ¯ <span id="${sectionName}-counter">1</span> / ${dataArray.length} ğŸ¯
            </div>
            <div class="text-lg text-pink-600 font-semibold">âœ¨ à¹à¸•à¸°à¸à¸²à¸£à¹Œà¸”à¹€à¸à¸·à¹ˆà¸­à¸Ÿà¸±à¸‡à¹€à¸ªà¸µà¸¢à¸‡ âœ¨</div>
          </div>

          <button id="next-${sectionName}" onclick="nextItem('${sectionName}')" class="bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white p-4 rounded-full shadow-xl transition-all transform hover:scale-110">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path>
            </svg>
          </button>
        </div>

        <div id="${sectionName}-display" class="max-w-2xl mx-auto">
          <div class="rounded-3xl p-8 cursor-pointer hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white shadow-xl"
               onclick="playCurrentSound('${sectionName}')"
               style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 25%, #fecfef 50%, #a8edea 75%, #fed6e3 100%);">
            <div class="flex items-center justify-center gap-8">
              <div class="flex-shrink-0">
                <div class="w-64 h-80 bg-white rounded-2xl shadow-lg flex items-center justify-center overflow-hidden">
                  <img id="${sectionName}-image" src="" alt="" class="w-60 h-76 object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
                  <div id="${sectionName}-emoji" class="text-4xl hidden">ğŸ“</div>
                </div>
              </div>

              <div class="flex flex-col items-center text-center">
                <div id="${sectionName}-char" class="font-bold text-gray-800 mb-2 leading-none" style="font-size: 10rem; height: 10rem;">à¸</div>
                <div id="${sectionName}-name" class="text-3xl font-bold text-gray-700 mb-6">à¸à¸­ à¹„à¸à¹ˆ</div>
                <button class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-full text-2xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white">
                  ğŸ”Š à¸Ÿà¸±à¸‡à¹€à¸ªà¸µà¸¢à¸‡ ğŸµ
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="flex justify-center mt-8 space-x-2 overflow-x-auto pb-2">
          <div id="${sectionName}-dots" class="flex space-x-2"></div>
        </div>
      `;
    }

    /* ===== Create Grid View ===== */
    function createGridView(sectionName, dataArray) {
      return `
        <div class="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4" id="${sectionName}-grid-container"></div>
        <div class="text-center mt-6">
          <span class="text-gray-600">à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” ${dataArray.length} à¸£à¸²à¸¢à¸à¸²à¸£</span>
        </div>
      `;
    }

    /* ===== Initialize Section ===== */
    function initializeSection(sectionName) {
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };

      const data = dataMap[sectionName];
      if (data) {
        updateDisplay(sectionName, data);
        createNavigationDots(sectionName, data);
        populateGrid(sectionName, data);
      }
    }

    /* ===== Update Display ===== */
    function updateDisplay(sectionName, dataArray) {
      const currentIndex = gameState.currentIndex;
      const item = dataArray[currentIndex];
      if (!item) return;

      const charElement = document.getElementById(`${sectionName}-char`);
      const nameElement = document.getElementById(`${sectionName}-name`);
      const imageElement = document.getElementById(`${sectionName}-image`);
      const emojiElement = document.getElementById(`${sectionName}-emoji`);
      const counterElement = document.getElementById(`${sectionName}-counter`);

      if (charElement) charElement.textContent = item.ch || item.word || item.en;
      if (nameElement) nameElement.textContent = item.name || item.reading || item.th;
      if (counterElement) counterElement.textContent = currentIndex + 1;

      if (imageElement && item.img) {
        imageElement.src = `${IMG_BASE}/${item.img}`;
        imageElement.alt = item.name || item.word || item.en;
      }

      if (emojiElement) {
        if (item.emoji && !item.img) {
          emojiElement.textContent = item.emoji;
          emojiElement.classList.remove('hidden');
          if (imageElement) imageElement.style.display = 'none';
        } else {
          emojiElement.classList.add('hidden');
          if (imageElement) imageElement.style.display = 'block';
        }
      }

      const prevBtn = document.getElementById(`prev-${sectionName}`);
      const nextBtn = document.getElementById(`next-${sectionName}`);
      if (prevBtn) prevBtn.disabled = currentIndex === 0;
      if (nextBtn) nextBtn.disabled = currentIndex === dataArray.length - 1;

      updateNavigationDots(sectionName, dataArray);
    }

    /* ===== Navigation Functions ===== */
    function previousItem(sectionName) {
      if (gameState.currentIndex > 0) {
        gameState.currentIndex--;
        const dataMap = {
          'consonants': thaiConsonants,
          'vowels': thaiVowels,
          'numbers': thaiNumbers,
          'tones': thaiToneMarks,
          'thai-vocab': thaiVocabulary.animals,
          'english-alphabet': englishAlphabet,
          'english-vocab': englishVocabulary.animals
        };
        updateDisplay(sectionName, dataMap[sectionName]);
      }
    }

    function nextItem(sectionName) {
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };
      const data = dataMap[sectionName];

      if (gameState.currentIndex < data.length - 1) {
        gameState.currentIndex++;
        updateDisplay(sectionName, data);
      }
    }

    function goToItem(sectionName, index) {
      gameState.currentIndex = index;
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };
      updateDisplay(sectionName, dataMap[sectionName]);
    }

    /* ===== Toggle View ===== */
    function toggleView(sectionName) {
      const galleryView = document.getElementById(`${sectionName}-gallery`);
      const gridView = document.getElementById(`${sectionName}-grid`);
      const toggleButton = document.getElementById(`toggle-${sectionName}`);

      gameState.isGridView = !gameState.isGridView;

      if (gameState.isGridView) {
        galleryView.classList.add('hidden');
        gridView.classList.remove('hidden');
        toggleButton.textContent = 'ğŸ”„ à¸à¸¥à¸±à¸šà¸ªà¸¹à¹ˆà¹à¸à¸¥à¹€à¸¥à¸­à¸£à¸µ âœ¨';
        toggleButton.className = 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl';
      } else {
        galleryView.classList.remove('hidden');
        gridView.classList.add('hidden');
        toggleButton.textContent = 'ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨';
        toggleButton.className = 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl';
      }
    }

    /* ===== Create Navigation Dots ===== */
    function createNavigationDots(sectionName, dataArray) {
      const dotsContainer = document.getElementById(`${sectionName}-dots`);
      if (!dotsContainer) return;

      dotsContainer.innerHTML = '';

      dataArray.forEach((item, index) => {
        const dot = document.createElement('button');
        dot.className = 'w-8 h-8 rounded-full text-sm font-bold transition-all transform hover:scale-110';
        dot.textContent = item.ch || item.word?.[0] || item.en?.[0] || (index + 1);
        dot.onclick = () => goToItem(sectionName, index);
        dotsContainer.appendChild(dot);
      });

      updateNavigationDots(sectionName, dataArray);
    }

    /* ===== Update Navigation Dots ===== */
    function updateNavigationDots(sectionName, dataArray) {
      const dots = document.querySelectorAll(`#${sectionName}-dots button`);
      dots.forEach((dot, index) => {
        if (index === gameState.currentIndex) {
          dot.className = 'w-8 h-8 rounded-full text-sm font-bold bg-blue-500 text-white shadow-lg transition-all transform scale-110';
        } else {
          dot.className = 'w-8 h-8 rounded-full text-sm font-bold bg-gray-200 text-gray-700 hover:bg-gray-300 transition-all transform hover:scale-110';
        }
      });
    }

    /* ===== Populate Grid ===== */
    function populateGrid(sectionName, dataArray) {
      const gridContainer = document.getElementById(`${sectionName}-grid-container`);
      if (!gridContainer) return;

      gridContainer.innerHTML = '';

      dataArray.forEach((item) => {
        const card = document.createElement('div');
        card.className = 'bg-gradient-to-br from-white to-gray-100 rounded-xl p-3 shadow-lg hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-center border-2 border-gray-200 hover:border-purple-300';
        card.onclick = () => {
          playItemSound(item, sectionName);
        };

        const displayText = item.ch || item.word || item.en;
        const subText = item.name || item.reading || item.th;
        const emoji = item.emoji || 'ğŸ”Š';

        card.innerHTML = `
          <div class="relative w-full h-16 mb-2 bg-white rounded-lg overflow-hidden flex items-center justify-center">
            ${item.img ?
              `<img src="${IMG_BASE}/${item.img}" alt="${displayText}" class="w-14 h-14 object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
               <div class="text-2xl hidden">${emoji}</div>` :
              `<div class="text-2xl">${emoji}</div>`
            }
            <div class="absolute bottom-0 right-0 bg-green-500 text-white rounded-full px-1 py-0.5 text-xs">ğŸ”Š</div>
          </div>
          <div class="text-xl font-bold mb-1 text-purple-600">${displayText}</div>
          <div class="text-xs text-gray-600 truncate">${subText}</div>
        `;

        gridContainer.appendChild(card);
      });
    }

    /* ===== Sound Functions ===== */
    let currentAudio = null;

    function playCurrentSound(sectionName) {
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };

      const data = dataMap[sectionName];
      const item = data[gameState.currentIndex];
      playItemSound(item, sectionName);
    }

    function playItemSound(item, sectionName) {
      if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
        currentAudio = null;
      }

      const displayText = item.name || item.reading || item.word || item.en || item.ch;

      if (item.sound) {
        const audioUrl = `${SOUND_BASE}/${item.sound}`;
        const audio = new Audio(audioUrl);
        currentAudio = audio;

        audio.onloadstart = () => {
          showSoundFeedback(`ğŸ”Š ${displayText}`, 'success');
        };

        audio.onended = () => {
          currentAudio = null;
        };

        audio.onerror = () => {
          currentAudio = null;
          fallbackToTTS(displayText, sectionName);
        };

        audio.play().catch(() => {
          fallbackToTTS(displayText, sectionName);
        });
      } else {
        fallbackToTTS(displayText, sectionName);
      }
    }

    function fallbackToTTS(text, sectionName) {
      if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance(text);

        if (sectionName.includes('english')) {
          utterance.lang = 'en-US';
        } else {
          utterance.lang = 'th-TH';
        }

        utterance.rate = 0.8;
        utterance.pitch = 1.0;
        utterance.volume = 0.8;

        const voices = speechSynthesis.getVoices();
        const voice = voices.find(v => v.lang.includes(utterance.lang.split('-')[0]));
        if (voice) utterance.voice = voice;

        utterance.onstart = () => {
          showSoundFeedback(`ğŸ”Š ${text}`, 'success');
        };

        speechSynthesis.speak(utterance);
      } else {
        showSoundFeedback(`ğŸ”Š ${text}`, 'success');
      }
    }

    function showSoundFeedback(text, type = 'success') {
      const feedback = document.createElement('div');
      const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';
      feedback.className = `fixed top-4 right-4 ${bgColor} text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-all transform`;
      feedback.textContent = text;
      document.body.appendChild(feedback);

      setTimeout(() => feedback.classList.add('scale-110'), 50);
      setTimeout(() => {
        feedback.classList.add('opacity-0', 'scale-90');
        setTimeout(() => feedback.remove(), 300);
      }, 1500);
    }

    /* ===== Create Other Sections ===== */
    function createVowelsSection() {
      const section = document.getElementById('vowels-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-purple-300">
          <h2 class="text-6xl font-bold text-purple-600 mb-8 text-center drop-shadow-lg animate-wiggle">ğŸµ à¸ªà¸£à¸°à¹„à¸—à¸¢ ğŸŒ¸</h2>
          <div class="text-center mb-6">
            <button id="toggle-vowels" onclick="toggleView('vowels')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨
            </button>
          </div>
          <div id="vowels-gallery" class="gallery-view">
            ${createGalleryView('vowels', thaiVowels)}
          </div>
          <div id="vowels-grid" class="grid-view hidden">
            ${createGridView('vowels', thaiVowels)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('vowels')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              ğŸ® à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š! ğŸ†
            </button>
          </div>
        </div>
      `;
    }

    function createNumbersSection() {
      const section = document.getElementById('numbers-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-green-100 via-yellow-100 to-orange-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-green-300">
          <h2 class="text-6xl font-bold text-green-600 mb-8 text-center drop-shadow-lg animate-wiggle">ğŸ”¢ à¸•à¸±à¸§à¹€à¸¥à¸‚à¹„à¸—à¸¢ ğŸ¯</h2>
          <div class="text-center mb-6">
            <button id="toggle-numbers" onclick="toggleView('numbers')" class="bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨
            </button>
          </div>
          <div id="numbers-gallery" class="gallery-view">
            ${createGalleryView('numbers', thaiNumbers)}
          </div>
          <div id="numbers-grid" class="grid-view hidden">
            ${createGridView('numbers', thaiNumbers)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('numbers')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              ğŸ® à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š! ğŸ†
            </button>
          </div>
        </div>
      `;
    }

    function createTonesSection() {
      const section = document.getElementById('tones-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-orange-100 via-red-100 to-pink-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-orange-300">
          <h2 class="text-6xl font-bold text-orange-600 mb-8 text-center drop-shadow-lg animate-wiggle">ğŸ¼ à¸§à¸£à¸£à¸“à¸¢à¸¸à¸à¸•à¹Œ ğŸ¶</h2>
          <div class="text-center mb-6">
            <button id="toggle-tones" onclick="toggleView('tones')" class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨
            </button>
          </div>
          <div id="tones-gallery" class="gallery-view">
            ${createGalleryView('tones', thaiToneMarks)}
          </div>
          <div id="tones-grid" class="grid-view hidden">
            ${createGridView('tones', thaiToneMarks)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('tones')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              ğŸ® à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š! ğŸ†
            </button>
          </div>
        </div>
      `;
    }

    function createThaiVocabSection() {
      const section = document.getElementById('thai-vocab-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-teal-100 via-cyan-100 to-blue-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-teal-300">
          <h2 class="text-6xl font-bold text-teal-600 mb-8 text-center drop-shadow-lg animate-wiggle">ğŸ“š à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¹„à¸—à¸¢ ğŸŒº</h2>
          <div class="flex flex-wrap justify-center mb-8 gap-3">
            <button onclick="showThaiCategory('animals')" class="thai-tab-btn bg-gradient-to-r from-teal-400 to-cyan-500 text-white px-6 py-3 rounded-full font-bold hover:from-teal-500 hover:to-cyan-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="animals">ğŸ¾ à¸ªà¸±à¸•à¸§à¹Œ</button>
            <button onclick="showThaiCategory('fruits')" class="thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="fruits">ğŸ à¸œà¸¥à¹„à¸¡à¹‰</button>
            <button onclick="showThaiCategory('colors')" class="thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="colors">ğŸŒˆ à¸ªà¸µ</button>
            <button onclick="showThaiCategory('body')" class="thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="body">ğŸ‘¤ à¸£à¹ˆà¸²à¸‡à¸à¸²à¸¢</button>
            <button onclick="showThaiCategory('food')" class="thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="food">ğŸ• à¸­à¸²à¸«à¸²à¸£</button>
          </div>
          <div class="text-center mb-6">
            <button id="toggle-thai-vocab" onclick="toggleView('thai-vocab')" class="bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨
            </button>
          </div>
          <div id="thai-vocab-gallery" class="gallery-view">
            ${createGalleryView('thai-vocab', thaiVocabulary.animals)}
          </div>
          <div id="thai-vocab-grid" class="grid-view hidden">
            ${createGridView('thai-vocab', thaiVocabulary.animals)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('thai-vocab')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              ğŸ® à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š! ğŸ†
            </button>
          </div>
        </div>
      `;
    }

    function createEnglishAlphabetSection() {
      const section = document.getElementById('english-alphabet-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-indigo-100 via-blue-100 to-cyan-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-indigo-300">
          <h2 class="text-6xl font-bold text-indigo-600 mb-8 text-center drop-shadow-lg animate-wiggle">ğŸ”¤ à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸© A-Z ğŸŒŸ</h2>
          <div class="text-center mb-6">
            <button id="toggle-english-alphabet" onclick="toggleView('english-alphabet')" class="bg-gradient-to-r from-indigo-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨
            </button>
          </div>
          <div id="english-alphabet-gallery" class="gallery-view">
            ${createGalleryView('english-alphabet', englishAlphabet)}
          </div>
          <div id="english-alphabet-grid" class="grid-view hidden">
            ${createGridView('english-alphabet', englishAlphabet)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('english-alphabet')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              ğŸ® à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š! ğŸ†
            </button>
          </div>
        </div>
      `;
    }

    function createEnglishVocabSection() {
      const section = document.getElementById('english-vocab-section');
      section.innerHTML = `
        <div class="bg-gradient-to-br from-red-100 via-pink-100 to-rose-100 rounded-3xl shadow-2xl p-8 mb-8 border-4 border-red-300">
          <h2 class="text-6xl font-bold text-red-600 mb-8 text-center drop-shadow-lg animate-wiggle">ğŸŒŸ à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸© ğŸˆ</h2>
          <div class="flex flex-wrap justify-center mb-8 gap-3">
            <button onclick="showEnglishCategory('animals')" class="english-tab-btn bg-gradient-to-r from-red-400 to-pink-500 text-white px-6 py-3 rounded-full font-bold hover:from-red-500 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="animals">ğŸ¾ à¸ªà¸±à¸•à¸§à¹Œ</button>
            <button onclick="showEnglishCategory('fruits')" class="english-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="fruits">ğŸ à¸œà¸¥à¹„à¸¡à¹‰</button>
            <button onclick="showEnglishCategory('colors')" class="english-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white" data-category="colors">ğŸŒˆ à¸ªà¸µ</button>
          </div>
          <div class="text-center mb-6">
            <button id="toggle-english-vocab" onclick="toggleView('english-vocab')" class="bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-all transform hover:scale-110 border-4 border-white text-xl">
              ğŸ“‹ à¸”à¸¹à¹à¸šà¸šà¸•à¸²à¸£à¸²à¸‡ âœ¨
            </button>
          </div>
          <div id="english-vocab-gallery" class="gallery-view">
            ${createGalleryView('english-vocab', englishVocabulary.animals)}
          </div>
          <div id="english-vocab-grid" class="grid-view hidden">
            ${createGridView('english-vocab', englishVocabulary.animals)}
          </div>
          <div class="text-center mt-8">
            <button onclick="startGame('english-vocab')" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 hover:from-green-500 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transition-all transform hover:scale-110 border-4 border-white animate-bounce-slow">
              ğŸ® à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š! ğŸ†
            </button>
          </div>
        </div>
      `;
    }

    /* ===== Category Functions ===== */
    function showThaiCategory(category) {
      document.querySelectorAll('.thai-tab-btn').forEach(btn => {
        if (btn.dataset.category === category) {
          btn.className = 'thai-tab-btn bg-gradient-to-r from-teal-400 to-cyan-500 text-white px-6 py-3 rounded-full font-bold hover:from-teal-500 hover:to-cyan-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white';
        } else {
          btn.className = 'thai-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white';
        }
      });

      gameState.currentIndex = 0;
      const data = thaiVocabulary[category];
      updateDisplay('thai-vocab', data);
      createNavigationDots('thai-vocab', data);
      populateGrid('thai-vocab', data);
    }

    function showEnglishCategory(category) {
      document.querySelectorAll('.english-tab-btn').forEach(btn => {
        if (btn.dataset.category === category) {
          btn.className = 'english-tab-btn bg-gradient-to-r from-red-400 to-pink-500 text-white px-6 py-3 rounded-full font-bold hover:from-red-500 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white';
        } else {
          btn.className = 'english-tab-btn bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 px-6 py-3 rounded-full font-bold hover:from-gray-400 hover:to-gray-500 transition-all transform hover:scale-105 shadow-lg text-lg border-2 border-white';
        }
      });

      gameState.currentIndex = 0;
      const data = englishVocabulary[category];
      updateDisplay('english-vocab', data);
      createNavigationDots('english-vocab', data);
      populateGrid('english-vocab', data);
    }

    /* ===== Game System ===== */
    function startGame(sectionName) {
      gameState.gameActive = true;
      gameState.gameScore = 0;
      gameState.questionNumber = 1;
      gameState.timeLeft = 30;

      document.getElementById('game-modal').classList.remove('hidden');
      document.getElementById('game-title').textContent = `ğŸ® à¹€à¸à¸¡à¸—à¸”à¸ªà¸­à¸š${getSectionTitle(sectionName)} ğŸ†`;

      generateGameQuestion(sectionName);
      startGameTimer();
    }

    function getSectionTitle(sectionName) {
      const titles = {
        'consonants': 'à¸à¸¢à¸±à¸à¸Šà¸™à¸°à¹„à¸—à¸¢',
        'vowels': 'à¸ªà¸£à¸°à¹„à¸—à¸¢',
        'numbers': 'à¸•à¸±à¸§à¹€à¸¥à¸‚à¹„à¸—à¸¢',
        'tones': 'à¸§à¸£à¸£à¸“à¸¢à¸¸à¸à¸•à¹Œ',
        'thai-vocab': 'à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¹„à¸—à¸¢',
        'english-alphabet': 'A-Z à¸­à¸±à¸‡à¸à¸¤à¸©',
        'english-vocab': 'à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¸­à¸±à¸‡à¸à¸¤à¸©'
      };
      return titles[sectionName] || '';
    }

    function generateGameQuestion(sectionName) {
      const dataMap = {
        'consonants': thaiConsonants,
        'vowels': thaiVowels,
        'numbers': thaiNumbers,
        'tones': thaiToneMarks,
        'thai-vocab': thaiVocabulary.animals,
        'english-alphabet': englishAlphabet,
        'english-vocab': englishVocabulary.animals
      };

      const data = dataMap[sectionName];
      const correctAnswer = data[Math.floor(Math.random() * data.length)];
      const wrongAnswers = data.filter(item => item !== correctAnswer).sort(() => 0.5 - Math.random()).slice(0, 3);
      const allAnswers = [correctAnswer, ...wrongAnswers].sort(() => 0.5 - Math.random());

      const gameContent = document.getElementById('game-content');
      gameContent.innerHTML = `
        <div class="mb-8">
          <div class="text-center mb-6">
            <div class="text-8xl mb-4">${correctAnswer.emoji || 'ğŸ¯'}</div>
            <div class="text-4xl font-bold text-purple-600 mb-4">
              ${correctAnswer.img ? `<img src="${IMG_BASE}/${correctAnswer.img}" alt="question" class="w-32 h-32 mx-auto object-contain bg-white rounded-2xl shadow-lg p-2" />` : ''}
            </div>
            <div class="text-2xl font-bold text-gray-700">
              ${getQuestionText(sectionName, correctAnswer)}
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            ${allAnswers.map((answer, index) => `
              <button onclick="selectAnswer('${sectionName}', ${allAnswers.indexOf(correctAnswer) === index}, '${getAnswerText(sectionName, answer)}')"
                      class="bg-gradient-to-r from-blue-400 to-purple-500 hover:from-blue-500 hover:to-purple-600 text-white font-bold py-6 px-4 rounded-2xl text-xl shadow-xl transition-all transform hover:scale-105 border-4 border-white">
                ${getAnswerText(sectionName, answer)}
              </button>
            `).join('')}
          </div>
        </div>
      `;

      document.getElementById('game-score').textContent = gameState.gameScore;
      document.getElementById('question-number').textContent = gameState.questionNumber;
    }

    function getQuestionText(sectionName, item) {
      switch(sectionName) {
        case 'consonants': return `à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸™à¸µà¹‰à¸­à¹ˆà¸²à¸™à¸§à¹ˆà¸²à¸­à¸°à¹„à¸£?`;
        case 'vowels': return `à¸ªà¸£à¸°à¸™à¸µà¹‰à¸­à¹ˆà¸²à¸™à¸§à¹ˆà¸²à¸­à¸°à¹„à¸£?`;
        case 'numbers': return `à¸•à¸±à¸§à¹€à¸¥à¸‚à¸™à¸µà¹‰à¸„à¸·à¸­à¹€à¸¥à¸‚à¸­à¸°à¹„à¸£?`;
        case 'tones': return `à¸§à¸£à¸£à¸“à¸¢à¸¸à¸à¸•à¹Œà¸™à¸µà¹‰à¸„à¸·à¸­à¸­à¸°à¹„à¸£?`;
        case 'thai-vocab': return `à¸„à¸³à¸™à¸µà¹‰à¸­à¹ˆà¸²à¸™à¸§à¹ˆà¸²à¸­à¸°à¹„à¸£?`;
        case 'english-alphabet': return `à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¸™à¸µà¹‰à¸„à¸·à¸­à¸­à¸°à¹„à¸£?`;
        case 'english-vocab': return `à¸„à¸³à¸™à¸µà¹‰à¹à¸›à¸¥à¸§à¹ˆà¸²à¸­à¸°à¹„à¸£?`;
        default: return `à¸™à¸µà¹ˆà¸„à¸·à¸­à¸­à¸°à¹„à¸£?`;
      }
    }

    function getAnswerText(sectionName, item) {
      switch(sectionName) {
        case 'consonants':
        case 'vowels':
        case 'tones':
          return item.name;
        case 'numbers':
          return item.name;
        case 'thai-vocab':
          return item.reading;
        case 'english-alphabet':
          return item.ch;
        case 'english-vocab':
          return item.th;
        default:
          return item.name || item.ch || item.word;
      }
    }

    function selectAnswer(sectionName, isCorrect) {
      if (isCorrect) {
        gameState.gameScore += 10;
        currentPlayer.score += 10;
        showGameFeedback('ğŸ‰ à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡! +10 à¸„à¸°à¹à¸™à¸™', 'success');
        playSuccessSound();
      } else {
        showGameFeedback('âŒ à¸œà¸´à¸”! à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸™à¸°', 'error');
        playErrorSound();
      }

      document.getElementById('game-score').textContent = gameState.gameScore;
      document.getElementById('current-score').textContent = `à¸„à¸°à¹à¸™à¸™: ${currentPlayer.score}`;

      setTimeout(() => {
        if (gameState.questionNumber >= 10) {
          endGame(sectionName);
        } else {
          gameState.questionNumber++;
          gameState.timeLeft = 30;
          generateGameQuestion(sectionName);
        }
      }, 1500);
    }

    function startGameTimer() {
      gameState.gameTimer = setInterval(() => {
        gameState.timeLeft--;
        document.getElementById('timer').textContent = gameState.timeLeft;

        if (gameState.timeLeft <= 0) {
          selectAnswer(gameState.currentSection, false);
        }
      }, 1000);
    }

    function endGame(sectionName) {
      clearInterval(gameState.gameTimer);
      gameState.gameActive = false;

      let medal = 'ğŸ¥‰';
      let medalText = 'à¹€à¸«à¸£à¸µà¸¢à¸à¸—à¸­à¸‡à¹à¸”à¸‡';
      if (gameState.gameScore >= 80) { medal = 'ğŸ¥‡'; medalText = 'à¹€à¸«à¸£à¸µà¸¢à¸à¸—à¸­à¸‡'; }
      else if (gameState.gameScore >= 60) { medal = 'ğŸ¥ˆ'; medalText = 'à¹€à¸«à¸£à¸µà¸¢à¸à¹€à¸‡à¸´à¸™'; }

      const gameContent = document.getElementById('game-content');
      gameContent.innerHTML = `
        <div class="text-center">
          <div class="text-8xl mb-4 animate-bounce">${medal}</div>
          <h3 class="text-4xl font-bold text-purple-600 mb-4">à¹€à¸à¸¡à¸ˆà¸šà¹à¸¥à¹‰à¸§!</h3>
          <div class="text-6xl font-bold text-green-600 mb-4">${gameState.gameScore} à¸„à¸°à¹à¸™à¸™</div>
          <div class="text-2xl text-gray-700 mb-6">${medalText}</div>
          <div class="bg-white rounded-2xl p-6 shadow-lg mb-6">
            <div class="text-xl font-bold text-purple-600 mb-2">à¸ªà¸£à¸¸à¸›à¸œà¸¥à¸à¸²à¸£à¹€à¸¥à¹ˆà¸™</div>
            <div class="text-lg">à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™: ${currentPlayer.name}</div>
            <div class="text-lg">à¸—à¸µà¸¡: ${currentPlayer.team}</div>
            <div class="text-lg">à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡: ${currentPlayer.score}</div>
          </div>
          <button onclick="saveScore('${sectionName}', ${gameState.gameScore}, '${medal}', '${medalText}')"
                  class="bg-gradient-to-r from-green-400 to-blue-500 text-white font-bold py-4 px-8 rounded-full text-xl shadow-xl transition-all transform hover:scale-105 mb-4">
            ğŸ’¾ à¸šà¸±à¸™à¸—à¸¶à¸à¸„à¸°à¹à¸™à¸™
          </button>
        </div>
      `;

      playVictorySound();
    }

    function closeGame() {
      clearInterval(gameState.gameTimer);
      gameState.gameActive = false;
      document.getElementById('game-modal').classList.add('hidden');
    }

    /* ===== Sound Effects ===== */
    function playSuccessSound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
      oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
      oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.5);
    }

    function playErrorSound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
      oscillator.frequency.setValueAtTime(150, audioContext.currentTime + 0.1);
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.3);
    }

    function playVictorySound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const notes = [523.25, 659.25, 783.99, 1046.50];
      notes.forEach((freq, index) => {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        oscillator.frequency.setValueAtTime(freq, audioContext.currentTime + index * 0.2);
        gainNode.gain.setValueAtTime(0.2, audioContext.currentTime + index * 0.2);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + index * 0.2 + 0.3);
        oscillator.start(audioContext.currentTime + index * 0.2);
        oscillator.stop(audioContext.currentTime + index * 0.2 + 0.3);
      });
    }

    /* ===== Score Management ===== */
    function saveScore(sectionName, gameScore, medal, medalText) {
      const scoreData = {
        name: currentPlayer.name,
        team: currentPlayer.team,
        section: getSectionTitle(sectionName),
        score: gameScore,
        totalScore: currentPlayer.score,
        medal: medal,
        medalText: medalText,
        timestamp: new Date().toISOString()
      };

      fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(scoreData)
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          showNotification('à¸šà¸±à¸™à¸—à¸¶à¸à¸„à¸°à¹à¸™à¸™à¸ªà¸³à¹€à¸£à¹‡à¸ˆ! ğŸ‰', 'success');
          closeGame();
        } else {
          showNotification('à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸ ğŸ˜', 'error');
        }
      })
      .catch(() => {
        showNotification('à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸ ğŸ˜', 'error');
      });
    }

    /* ===== Leaderboard ===== */
    function showLeaderboard() {
      document.getElementById('leaderboard-modal').classList.remove('hidden');
      loadLeaderboard();
    }

    function loadLeaderboard() {
      fetch(`${GOOGLE_SCRIPT_URL}?action=getScores`)
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            displayLeaderboard(data.scores);
          } else {
            showNotification('à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸­à¸±à¸™à¸”à¸±à¸šà¸„à¸°à¹à¸™à¸™à¹„à¸”à¹‰ ğŸ˜', 'error');
          }
        })
        .catch(() => {
          showNotification('à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ ğŸ˜', 'error');
        });
    }

    function displayLeaderboard(scores) {
      const leaderboardContent = document.getElementById('leaderboard-content');

      if (!scores || scores.length === 0) {
        leaderboardContent.innerHTML = '<div class="text-center text-2xl text-gray-600">à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸°à¹à¸™à¸™</div>';
        return;
      }

      const teamScores = {};
      scores.forEach(score => {
        if (!teamScores[score.team]) {
          teamScores[score.team] = { total: 0, players: [] };
        }
        teamScores[score.team].total += score.totalScore;
        teamScores[score.team].players.push(score);
      });

      const sortedTeams = Object.entries(teamScores).sort(([,a], [,b]) => b.total - a.total);

      let html = '<div class="mb-8"><h3 class="text-3xl font-bold text-center mb-6">ğŸ† à¸­à¸±à¸™à¸”à¸±à¸šà¸—à¸µà¸¡ ğŸ†</h3>';

      sortedTeams.forEach(([team, data], index) => {
        const position = index + 1;
        let positionEmoji = 'ğŸ¥‰';
        if (position === 1) positionEmoji = 'ğŸ¥‡';
        else if (position === 2) positionEmoji = 'ğŸ¥ˆ';

        html += `
          <div class="bg-gradient-to-r from-yellow-100 to-orange-100 rounded-2xl p-6 mb-4 shadow-lg border-2 border-yellow-300">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="text-4xl">${positionEmoji}</div>
                <div>
                  <div class="text-2xl font-bold">${team}</div>
                  <div class="text-lg text-gray-600">${data.players.length} à¸„à¸™</div>
                </div>
              </div>
              <div class="text-3xl font-bold text-green-600">${data.total} à¸„à¸°à¹à¸™à¸™</div>
            </div>
          </div>
        `;
      });

      html += '</div>';

      html += '<div><h3 class="text-3xl font-bold text-center mb-6">ğŸ‘¤ à¸­à¸±à¸™à¸”à¸±à¸šà¸šà¸¸à¸„à¸„à¸¥ ğŸ‘¤</h3>';
      const sortedIndividual = scores.sort((a, b) => b.totalScore - a.totalScore);

      sortedIndividual.slice(0, 10).forEach((score, index) => {
        const position = index + 1;
        let positionEmoji = 'ğŸ…';
        if (position === 1) positionEmoji = 'ğŸ¥‡';
        else if (position === 2) positionEmoji = 'ğŸ¥ˆ';
        else if (position === 3) positionEmoji = 'ğŸ¥‰';

        html += `
          <div class="bg-gradient-to-r from-blue-100 to-purple-100 rounded-2xl p-4 mb-3 shadow-lg border-2 border-blue-300">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="text-2xl">${positionEmoji}</div>
                <div>
                  <div class="text-xl font-bold">${score.name}</div>
                  <div class="text-sm text-gray-600">${score.team}</div>
                </div>
              </div>
              <div class="text-2xl font-bold text-green-600">${score.totalScore} à¸„à¸°à¹à¸™à¸™</div>
            </div>
          </div>
        `;
      });

      html += '</div>';

      leaderboardContent.innerHTML = html;
    }

    function closeLeaderboard() {
      document.getElementById('leaderboard-modal').classList.add('hidden');
    }

    /* ===== Utility Functions ===== */
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
      notification.className = `fixed top-4 left-1/2 transform -translate-x-1/2 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all`;
      notification.textContent = message;
      document.body.appendChild(notification);

      setTimeout(() => notification.classList.add('opacity-0'), 3000);
      setTimeout(() => notification.remove(), 3500);
    }

    /* âœ… Fixed: Game feedback function (replacing corrupted snippet) */
    function showGameFeedback(message, type = 'success') {
      const box = document.createElement('div');
      const bg = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
      box.className = `fixed bottom-6 left-1/2 -translate-x-1/2 ${bg} text-white px-6 py-3 rounded-xl shadow-2xl z-50 transition transform`;
      box.textContent = message;
      document.body.appendChild(box);
      setTimeout(() => box.classList.add('scale-105'), 50);
      setTimeout(() => {
        box.classList.add('opacity-0', 'scale-95');
        setTimeout(() => box.remove(), 250);
      }, 1200);
    }
  </script>
</body>
</html>
